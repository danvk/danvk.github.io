 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from www.danvk.org/wp/category/programming/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Oct 2014 03:08:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="generator" content="WordPress 3.9.2" /> <!-- leave this for stats please -->
	<title>danvk.org &raquo; programming</title>
	<style type="text/css" media="screen">
		@import url( ../../wp-content/themes/ocadia/style.css);
			</style>
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../../feed/index.html" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="../../feed/rss/index.html" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="../../feed/atom/index.html" />
	<link rel="pingback" href="../../xmlrpc.php" />
    	<link rel='archives' title='October 2014' href='../../2014/10/index.html' />
	<link rel='archives' title='August 2014' href='../../2014/08/index.html' />
	<link rel='archives' title='July 2014' href='../../2014/07/index.html' />
	<link rel='archives' title='June 2014' href='../../2014/06/index.html' />
	<link rel='archives' title='March 2014' href='../../2014/03/index.html' />
	<link rel='archives' title='February 2014' href='../../2014/02/index.html' />
	<link rel='archives' title='January 2014' href='../../2014/01/index.html' />
	<link rel='archives' title='August 2013' href='../../2013/08/index.html' />
	<link rel='archives' title='June 2013' href='../../2013/06/index.html' />
	<link rel='archives' title='April 2013' href='../../2013/04/index.html' />
	<link rel='archives' title='March 2013' href='../../2013/03/index.html' />
	<link rel='archives' title='February 2013' href='../../2013/02/index.html' />
	<link rel='archives' title='January 2013' href='../../2013/01/index.html' />
	<link rel='archives' title='December 2012' href='../../2012/12/index.html' />
	<link rel='archives' title='September 2012' href='../../2012/09/index.html' />
	<link rel='archives' title='August 2012' href='../../2012/08/index.html' />
	<link rel='archives' title='July 2012' href='../../2012/07/index.html' />
	<link rel='archives' title='June 2012' href='../../2012/06/index.html' />
	<link rel='archives' title='May 2012' href='../../2012/05/index.html' />
	<link rel='archives' title='April 2012' href='../../2012/04/index.html' />
	<link rel='archives' title='February 2012' href='../../2012/02/index.html' />
	<link rel='archives' title='January 2012' href='../../2012/01/index.html' />
	<link rel='archives' title='December 2011' href='../../2011/12/index.html' />
	<link rel='archives' title='November 2011' href='../../2011/11/index.html' />
	<link rel='archives' title='August 2011' href='../../2011/08/index.html' />
	<link rel='archives' title='March 2011' href='../../2011/03/index.html' />
	<link rel='archives' title='June 2010' href='../../2010/06/index.html' />
	<link rel='archives' title='March 2010' href='../../2010/03/index.html' />
	<link rel='archives' title='December 2009' href='../../2009/12/index.html' />
	<link rel='archives' title='November 2009' href='../../2009/11/index.html' />
	<link rel='archives' title='October 2009' href='../../2009/10/index.html' />
	<link rel='archives' title='September 2009' href='../../2009/09/index.html' />
	<link rel='archives' title='August 2009' href='../../2009/08/index.html' />
	<link rel='archives' title='June 2009' href='../../2009/06/index.html' />
	<link rel='archives' title='May 2009' href='../../2009/05/index.html' />
	<link rel='archives' title='March 2009' href='../../2009/03/index.html' />
	<link rel='archives' title='February 2009' href='../../2009/02/index.html' />
	<link rel='archives' title='January 2009' href='../../2009/01/index.html' />
	<link rel='archives' title='December 2008' href='../../2008/12/index.html' />
	<link rel='archives' title='November 2008' href='../../2008/11/index.html' />
	<link rel='archives' title='October 2008' href='../../2008/10/index.html' />
	<link rel='archives' title='September 2008' href='../../2008/09/index.html' />
	<link rel='archives' title='August 2008' href='../../2008/08/index.html' />
	<link rel='archives' title='June 2008' href='../../2008/06/index.html' />
	<link rel='archives' title='May 2008' href='../../2008/05/index.html' />
	<link rel='archives' title='February 2008' href='../../2008/02/index.html' />
	<link rel='archives' title='January 2008' href='../../2008/01/index.html' />
	<link rel='archives' title='December 2007' href='../../2007/12/index.html' />
	<link rel='archives' title='November 2007' href='../../2007/11/index.html' />
	<link rel='archives' title='October 2007' href='../../2007/10/index.html' />
	<link rel='archives' title='September 2007' href='../../2007/09/index.html' />
	<link rel='archives' title='August 2007' href='../../2007/08/index.html' />
	<link rel='archives' title='July 2007' href='../../2007/07/index.html' />
	<link rel='archives' title='June 2007' href='../../2007/06/index.html' />
	<link rel='archives' title='May 2007' href='../../2007/05/index.html' />
	<link rel='archives' title='April 2007' href='../../2007/04/index.html' />
	<link rel='archives' title='March 2007' href='../../2007/03/index.html' />
	<link rel='archives' title='February 2007' href='../../2007/02/index.html' />
	<link rel='archives' title='January 2007' href='../../2007/01/index.html' />
	<link rel='archives' title='December 2006' href='../../2006/12/index.html' />
	<link rel='archives' title='November 2006' href='../../2006/11/index.html' />
	<link rel='archives' title='October 2006' href='../../2006/10/index.html' />
	<link rel='archives' title='September 2006' href='../../2006/09/index.html' />
	<link rel="alternate" type="application/rss+xml" title="danvk.org &raquo; programming Category Feed" href="feed/index.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.2" />
<style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; }
/* ]]> */
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
	
<body>

<div id="wrapper">

<div id="header">
<h1><a href="http://www.danvk.org/wp">danvk.org</a></h1>
<p>Keepin&#8217; static like wool fabric since 2006</p>
</div>

<div id="content">

			
				
		<div class="post">

			<h1 class="storydate">02.09.13</h1> 
			<h2 id="post-1021" class="storytitle"><a href="../../2013-02-09/finding-pictures-in-pictures/index.html" rel="bookmark" title="Permanent link to Finding Pictures in Pictures">Finding Pictures in Pictures</a></h2>
			<p class="meta">Posted in <a href="index.html" title="View all posts in programming" rel="category tag">programming</a>, <a href="../web/index.html" title="View all posts in web" rel="category tag">web</a> at 11:11 pm by danvk</p>
		
							<p>Over the past month, I&#8217;ve been working with imagery from the NYPL&#8217;s <a href="http://digitalgallery.nypl.org/nypldigital/dgdivisionbrowseresult.cfm?div_id=hh">Milstein Collection</a>. Astute readers may have some guesses why. The images look something like <a href="http://digitalgallery.nypl.org/nypldigital/dgkeysearchdetail.cfm?strucID=405038&amp;imageID=715240f">this one</a>:</p>
<p><center><a style="border:none;" href="http://digitalgallery.nypl.org/nypldigital/dgkeysearchdetail.cfm?strucID=405038&amp;imageID=715240f"><img border=0 src="http://images.nypl.org/index.php?id=715240f&amp;t=w" width=490 height=760 /></a></center></p>
<p>There are two photos in this picture! They&#8217;re on cards set against a brown background. Other pictures in the Milstein gallery have one or three photos, with or without a white border:</p>
<p><center><img src="http://images.nypl.org/index.php?id=711018f&amp;t=r" width=194 height=300 /> &nbsp; <img src="http://images.nypl.org/index.php?id=715591f&amp;t=r" width=194 height=300 /> &nbsp; <img src="http://images.nypl.org/index.php?id=710504f&amp;t=r" width=194 height=300 /></center></p>
<p>To make something akin to <a href="http://oldsf.org/">OldSF</a>, I&#8217;d need to write a program to find and extract each of the photos embedded in these pictures. It&#8217;s incredibly easy for our eyes to pick out the embedded photos, but this is deceptive. We&#8217;re really good at this sort of thing! Teaching a computer to do makes you realize how non-trivial the problem is.</p>
<p>I started by converting the images to grayscale and running <a href="http://en.wikipedia.org/wiki/Edge_detection">edge detection</a>:<br />
<img src="../../wp-content/uploads/2013/02/Screen-Shot-2013-02-10-at-12.47.42-AM.png" alt="edge detection" width="394" height="613" class="aligncenter size-full wp-image-1029" /></p>
<p>The white lines indicate places where there was an &#8220;edge&#8221; in the original image. It&#8217;s an impressive effect&mdash;almost like you hired someone to sketch the image. The details on the stoops are particularly cool:</p>
<p><img src="../../wp-content/uploads/2013/02/Screen-Shot-2013-02-10-at-12.48.19-AM.png" alt="Detail on edge detection image" width="553" height="392" class="aligncenter size-full wp-image-1030" /></p>
<p>The interesting bit for us isn&#8217;t the lines inside the photo so much as the white box around it. Running an edge detection algorithm brings it into stark relief. There are a number of image processing algorithms to detect lines, for example the <a href="http://en.wikipedia.org/wiki/Hough_Transform">Hough Transform</a> or scipy&#8217;s <a href="http://scikit-image.org/docs/0.3/auto_examples/plot_hough_transform.html#example-plot-hough-transform-py">probabilistic_hough</a>. I&#8217;ve never been able to get these to work, however, and this ultimately proved to be a dead end.</p>
<p>A simple algorithm often works much better than high-powered computer vision algorithms like edge detection and the Hough Transform. In this case, I realized that there was, in fact, a much simpler way to do things.</p>
<p>The images are always on brown paper. So why not find the brown paper and call everything else the photos? To do this, I found the median color in each image, blurred it and called everything within an RMSE of 20 &#8220;brown&#8221;. I colored the brown pixels black and the non-brown pixels white. This left me with an image like this:</p>
<p><img src="../../wp-content/uploads/2013/02/Screen-Shot-2013-02-10-at-1.00.29-AM.png" alt="Two white rectangles on a black background" width="533" height="847" class="aligncenter size-full wp-image-1032" /></p>
<p>Now this is progress! The rectangles stand out clearly. Now it&#8217;s a matter of teaching the computer to find them.</p>
<p>To do this, I used the following algorithm:</p>
<ol>
<li>Pick a random white pixel, (x, y) (statistically, this is likely to be in a photo)</li>
<li>Call this a 1&#215;1 rectangle.</li>
<li>Extend the rectangle out in all directions, so long as you keep adding new white pixels.</li>
<li>If this rectangle is larger than 100&#215;100, record it as a photo.</li>
<li>Color the rectangle black.</li>
<li>If &lt;90% of the image is black, go back to step 1.
</ol>
<p>Eventually this should find all the photos. Here are the results on the original photo from the top of the post:</p>
<p><img src="../../wp-content/uploads/2013/02/Screen-Shot-2013-02-10-at-1.07.23-AM.png" alt="Outlined Photos" width="545" height="847" class="aligncenter size-full wp-image-1034" /></p>
<p>The red rectangles are those found by the algorithm. This has a few nice properties:</p>
<ol>
<li>It naturally generalizes to images with 1, 2, 3, 4, etc. photos.</li>
<li>It still works well when the photos are slightly rotated.</li>
<li>It works for any background color (lighting conditions vary for each image).</li>
</ol>
<p>There&#8217;s still some tweaking to do, but I&#8217;m really happy with how this algorithm has performed! You can find the source code <a href="https://github.com/danvk/sfhistory/blob/master/nyc/find-pictures.py">here</a>.</p>
			
			<p class="feedback">
			<a href="../../2013-02-09/finding-pictures-in-pictures/index.html" rel="bookmark" title="Permanent link to Finding Pictures in Pictures" class="permalink">Permalink</a>
			<a href="../../2013-02-09/finding-pictures-in-pictures/index.html#comments" class="commentslink"  title="Comment on Finding Pictures in Pictures">1 Comment</a>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-02-09/finding-pictures-in-pictures/"
    dc:identifier="http://www.danvk.org/wp/2013-02-09/finding-pictures-in-pictures/"
    dc:title="Finding Pictures in Pictures"
    trackback:ping="http://www.danvk.org/wp/2013-02-09/finding-pictures-in-pictures/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">01.21.13</h1> 
			<h2 id="post-972" class="storytitle"><a href="../../2013-01-21/developing-the-oldsf-slideshow/index.html" rel="bookmark" title="Permanent link to Developing the OldSF Slideshow">Developing the OldSF Slideshow</a></h2>
			<p class="meta">Posted in <a href="index.html" title="View all posts in programming" rel="category tag">programming</a>, <a href="../san-francisco/index.html" title="View all posts in san francisco" rel="category tag">san francisco</a>, <a href="../web/index.html" title="View all posts in web" rel="category tag">web</a> at 7:21 pm by danvk</p>
		
							<p>If you head over to <a href="http://oldsf.org/">oldsf.org</a>, you&#8217;ll find a sleek new UI and a brand new <a href="http://www.oldsf.org/#ll:37.780073|-122.513765&#038;e:AAC-0275|535&#038;m:37.78395|-122.47521|14">slideshow feature</a>. Here&#8217;s the before/after:</p>
<p><a href="../../wp-content/uploads/2013/01/oldsf-before.png" style="border:none;"><img src="../../wp-content/uploads/2013/01/oldsf-before-300x209.png" alt="OldSF &quot;expanded image&quot; view before update." width="300" height="209" class="aligncenter size-medium wp-image-974" style="display: inline-block;" border=0 /></a> &nbsp; <a href="../../wp-content/uploads/2013/01/oldsf-after.png" style="border:none;"><img src="../../wp-content/uploads/2013/01/oldsf-after-300x209.png" alt="oldsf-after" width="300" height="209" class="aligncenter size-medium wp-image-973" style="display: inline-block;" border=0 /></a></p>
<p>Locations like the <a href="http://en.wikipedia.org/wiki/Sutro_Baths">Sutro Baths</a> can have hundreds of photos. The slideshow lets you flip through them quickly.</p>
<p>As so often happens, what looked simple at first became more and more complex as I implemented it. Here&#8217;s how that process went for the OldSF update.<br />
 <a href="../../2013-01-21/developing-the-oldsf-slideshow/index.html#more-972" class="more-link">Read the rest of this entry &raquo;</a></p>
			
			<p class="feedback">
			<a href="../../2013-01-21/developing-the-oldsf-slideshow/index.html" rel="bookmark" title="Permanent link to Developing the OldSF Slideshow" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-01-21/developing-the-oldsf-slideshow/"
    dc:identifier="http://www.danvk.org/wp/2013-01-21/developing-the-oldsf-slideshow/"
    dc:title="Developing the OldSF Slideshow"
    trackback:ping="http://www.danvk.org/wp/2013-01-21/developing-the-oldsf-slideshow/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">06.25.12</h1> 
			<h2 id="post-912" class="storytitle"><a href="../../2012-06-25/lonely-hangouts/index.html" rel="bookmark" title="Permanent link to Lonely Hangouts">Lonely Hangouts</a></h2>
			<p class="meta">Posted in <a href="index.html" title="View all posts in programming" rel="category tag">programming</a> at 2:35 pm by danvk</p>
		
							<p>While working on <a href="../../2012-05-17/puzzle-crosswords-for-google/index.html">Puzzle+</a>, my crossword application for Google+ Hangouts, I couldn&#8217;t help but notice what a colossal pain it was to develop against the Hangouts API. It has a few things going against it:</p>
<ul>
<li>Testing your changes requires pushing them to a remote HTTPS server.</li>
<li>Your application is buried in a ton of <code>iframe</code>s, which makes the JS console harder to use.</li>
<li>Opening up Google+ Hangouts runs a browser plugin, turns on your camera, and makes your computer nice and toasty-hot.</li>
<li>It&#8217;s impossible to test multiplayer scenarios without multiple Google+ accounts and multiple <i>computers</i> (since opening a hangout requires exclusive access to your camera).</li>
</ul>
<p>To make myself less sad, I developed a small node.js server which emulates the Google+ Hangouts API. This lets you do all your development (both single- and multi-player) locally, without any of the AV overhead that Hangouts usually bring in.</p>
<p>In case anyone else finds themselves in a similar predicament, I&#8217;ve released this code as <a href="https://github.com/danvk/lonely"><i>Lonely Hangouts</i></a> on github.</p>
			
			<p class="feedback">
			<a href="../../2012-06-25/lonely-hangouts/index.html" rel="bookmark" title="Permanent link to Lonely Hangouts" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2012-06-25/lonely-hangouts/"
    dc:identifier="http://www.danvk.org/wp/2012-06-25/lonely-hangouts/"
    dc:title="Lonely Hangouts"
    trackback:ping="http://www.danvk.org/wp/2012-06-25/lonely-hangouts/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">05.17.12</h1> 
			<h2 id="post-867" class="storytitle"><a href="../../2012-05-17/puzzle-crosswords-for-google/index.html" rel="bookmark" title="Permanent link to puzzle+: Crosswords for Google+">puzzle+: Crosswords for Google+</a></h2>
			<p class="meta">Posted in <a href="index.html" title="View all posts in programming" rel="category tag">programming</a>, <a href="../web/index.html" title="View all posts in web" rel="category tag">web</a> at 8:48 am by danvk</p>
		
							<p>To solve a crossword with your friends in Google+, click this giant hangout button:</p>
<p style="text-align: center; padding: 20px 0;"><a href="https://plus.google.com/hangouts/_?gid=816682636912" style="text-decoration:none;"><img src="https://ssl.gstatic.com/s2/oz/images/stars/hangout/1/gplus-hangout-60x230-normal.png" alt="Start a Hangout" style="border:0;width:230px;height:60px;"/></a></p>
<p>You&#8217;ll see something like this:</p>
<p style="text-align: center;"><img src="../../wp-content/uploads/2012/05/circles-people.png" alt="" title="circles-people" width="523" height="401" class="aligncenter size-full wp-image-883" /></p>
<p>Click &#8220;Hang out&#8221; to invite everyone in your circles to help you with the puzzle. If you want to collaborate with just one or two people, click the &#8220;x&#8221; on &#8220;Your Circles&#8221; and then click your friend&#8217;s names on the right.</p>
<p>You&#8217;ll be prompted to either upload a .puz file or play one of the built-in Onion puzzles. You can get a free puzzle from the New York Times by clicking &#8220;Play in Across Lite&#8221; on <a href="http://www.nytimes.com/ref/crosswords/classicpuz.html?ref=crosswords">this page</a>.</p>
<p>With the puzzle downloaded, drag it into the drop area:</p>
<p style="text-align: center;"><img src="../../wp-content/uploads/2012/05/dragging-e1337269129570.png" alt="" title="dragging" width="608" height="413" class="aligncenter size-full wp-image-874" /></p>
<p>And now you&#8217;re off to the races! The big win of doing this in a Google+ hangout is that you get to video chat with your collaborators while you&#8217;re solving the puzzle, just like you would in person!</p>
<p><img src="../../wp-content/uploads/2012/05/screenshot.png" alt="" title="screenshot" width="900" height="577" class="size-full wp-image-875" style="max-width: 900px;" /></p>
<p>Astute readers will note that puzzle+ is a revival of <a href="../../2011-03-27/crosscountry-crosswords/index.html">lmnopuz for Google Shared Spaces</a>, which was a revival of <a href="../../2010-03-22/introducing-lmnowave/index.html">lmnowave</a> (Crosswords for Google Wave), which was in turn a revival of <a href="http://neugierig.org/">Evan Martin</a> and <a href="http://www.erat.org/">Dan Erat</a>&#8216;s standalone <a href="http://neugierig.org/software/lmnopuz/">lmnopuz</a>. Hopefully the Google+ Hangouts API will be more long-lived than its predecessors.</p>
			
			<p class="feedback">
			<a href="../../2012-05-17/puzzle-crosswords-for-google/index.html" rel="bookmark" title="Permanent link to puzzle+: Crosswords for Google+" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2012-05-17/puzzle-crosswords-for-google/"
    dc:identifier="http://www.danvk.org/wp/2012-05-17/puzzle-crosswords-for-google/"
    dc:title="puzzle+: Crosswords for Google+"
    trackback:ping="http://www.danvk.org/wp/2012-05-17/puzzle-crosswords-for-google/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">05.14.12</h1> 
			<h2 id="post-854" class="storytitle"><a href="../../2012-05-14/horizontal-and-vertical-centering-with-css/index.html" rel="bookmark" title="Permanent link to Horizontal and Vertical Centering with CSS">Horizontal and Vertical Centering with CSS</a></h2>
			<p class="meta">Posted in <a href="index.html" title="View all posts in programming" rel="category tag">programming</a>, <a href="../web/index.html" title="View all posts in web" rel="category tag">web</a> at 10:04 am by danvk</p>
		
							<p>I recently wanted to center some content both vertically and horizontally on a web page. I did not know in advance how large the content was, and I wanted it to work for any size browser window.</p>
<p>These two articles have everything you need to know about <a href="http://haslayout.net/css-tuts/Horizontal-Centering">horizontal centering</a> and <a href="http://haslayout.net/css-tuts/Vertical-Centering">vertical centering</a>.</p>
<p>The two articles don&#8217;t actually combine the techniques, so I&#8217;ll do that here.</p>
<p>In the bad old days before CSS, you might accomplish this with tables:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;table width=100% height=100%&gt;
  &lt;tr&gt;
    &lt;td valign=middle align=center&gt;
      Content goes here
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</pre>
<p>Simple enough! In the wonderful world of HTML5, you do the same thing by turning <code>div</code>s into <code>table</code>s using CSS. You need no fewer than <i>three</i> divs to pull this off:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;middle&quot;&gt;
    &lt;div class=&quot;inner&quot;&gt;
      Content goes here
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<p>And here&#8217;s the CSS:</p>
<pre class="brush: css; title: ; notranslate" title="">
.container {
  display: table;
  width: 100%;
  height: 100%;
}
.middle {
  display: table-cell;
  vertical-align: middle;
}
.inner {
  display: table;
  margin: 0 auto;
}
</pre>
<p>A few comments on why this works:</p>
<ul>
<li>You can only apply <code>vertical-align: middle</code> to an element with <code>display: table-cell</code>. (Hence <code>.middle</code>)
<li>You can only apply <code>display: table-cell</code> to an element inside of another element with <code>display: table</code>. (Hence <code>.container</code>)
<li>Elements with <code>display: block</code> have 100% width by default. Setting <code>display: table</code> has the side effect of shrinking the div to fit its content, while still keeping it a block-level element. This, in turn, enables the <code>margin: 0 auto</code> trick. (Hence <code>.inner</code>)
</ul>
<p>I believe all three of these divs are genuinely necessary. For the common case that you want to center elements on the entire screen, you can make <code>.container</code> the <code>body</code> tag to get rid of one div.</p>
<p>In the future, this will get slightly easier with <a href="http://www.the-haystack.com/2012/01/04/learn-you-a-flexbox/">display: flexbox</a>, a box model which makes infinitely more sense for layout than the existing CSS model. You can read about how do to horizontal and vertical centering using flexbox <a href="http://www.kirupa.com/html5/centering_vertically_horizontally.htm">here</a>.</p>
			
			<p class="feedback">
			<a href="../../2012-05-14/horizontal-and-vertical-centering-with-css/index.html" rel="bookmark" title="Permanent link to Horizontal and Vertical Centering with CSS" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2012-05-14/horizontal-and-vertical-centering-with-css/"
    dc:identifier="http://www.danvk.org/wp/2012-05-14/horizontal-and-vertical-centering-with-css/"
    dc:title="Horizontal and Vertical Centering with CSS"
    trackback:ping="http://www.danvk.org/wp/2012-05-14/horizontal-and-vertical-centering-with-css/trackback/" />
</rdf:RDF>			-->

			</div>
	
		
		<p>
			<span class="post_nav"><a href="page/2/index.html" >&laquo; Previous entries</a></span>
		<!--	<a href="http://www.danvk.org/wp/category/programming/page/2/" >Next Page &raquo;</a>-->
			<span><a href="page/2/index.html" >Next Page &raquo;</a></span>
		</p>
		
	
</div>

<div id="sidebar">
<ul>

	<li id="search">
		<form method="get" id="searchform" action="http://www.danvk.org/wp/index.php">
<p>
<input type="text" value="" name="s" id="s" /><br />
<input type="submit" id="searchsubmit" value="Search" />
</p>
</form>	</li> 

<!-- I want more control than this gives me: wp_list_pages('title_li=<h2>' . __('Pages') . '</h2>' ); -->

	<li class="pagenav">
		<ul>
			<!--<li class="page_item"><a href="http://www.danvk.org/wp/?page_id=2" title="About">About</a></li>-->
			<li>Dan across the web
				<ul>
					<li class="social">
					<a href="https://github.com/danvk"><img src="https://github.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://twitter.com/danvdk"><img src="https://twitter.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://www.facebook.com/danvdk"><img src="https://facebook.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://plus.google.com/+DanVanderkam"><img src="https://plus.google.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://www.linkedin.com/profile/view?id=340204755"><img src="https://www.linkedin.com/favicon.ico" width=16 height=16 border=0></a>
					<script data-gittip-username="danvdk" data-gittip-widget="button" src="http://gttp.co/v1.js"></script>
				</ul>

			<li>Dan's projects
				<ul class="projects">
					<li><a href="http://dygraphs.com/">dygraphs</a>
					<li><a href="http://oldsf.org/">OldSF</a>
					<li><a href="http://comparea.org/">Comparea</a>
					<li><a href="https://github.com/danvk/webdiff">git webdiff</a>
				</ul>

			<li>Features on this site
				<ul class="features">
					<li><a href="https://www.danvk.org/boggle/" title="Boggle Solver">Online Boggle Solver</a></li>
					<li><a href="../../beals-conjecture/index.html" title="Beal&#039;s Conjecture">Beal's Conjecture</a></li>
					<li><a href="../../gw-basic-program-decoder/index.html" title="GW-BASIC Program Decoder">GW-BASIC Program Decoder</a></li>
					<li><a href="http://www.danvk.org/tower/nstower.html">NS-Tower in your Browser</a></li>
				</ul>
		</ul>
	</li>

	<!--
	<li id="twitter_sidebar">
		<div id="twitter_div">
		<a href="http://twitter.com/danvdk" target="_blank"><h2 class="sidebar-title">Follow me on Twitter</h2></a>
		<ul id="twitter_update_list" style="padding-right:30px"></ul>
		
		</div>
		<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
		<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/danvdk.json?callback=twitterCallback2&amp;count=5"></script>
	</li>
	-->

	<li id="archives">
		<h2>Archives</h2>
		<ul>
			<li><a href='../../2014/10/index.html'>October 2014</a></li>
	<li><a href='../../2014/08/index.html'>August 2014</a></li>
	<li><a href='../../2014/07/index.html'>July 2014</a></li>
	<li><a href='../../2014/06/index.html'>June 2014</a></li>
	<li><a href='../../2014/03/index.html'>March 2014</a></li>
	<li><a href='../../2014/02/index.html'>February 2014</a></li>
	<li><a href='../../2014/01/index.html'>January 2014</a></li>
	<li><a href='../../2013/08/index.html'>August 2013</a></li>
	<li><a href='../../2013/06/index.html'>June 2013</a></li>
	<li><a href='../../2013/04/index.html'>April 2013</a></li>
	<li><a href='../../2013/03/index.html'>March 2013</a></li>
	<li><a href='../../2013/02/index.html'>February 2013</a></li>
	<li><a href='../../2013/01/index.html'>January 2013</a></li>
	<li><a href='../../2012/12/index.html'>December 2012</a></li>
	<li><a href='../../2012/09/index.html'>September 2012</a></li>
	<li><a href='../../2012/08/index.html'>August 2012</a></li>
	<li><a href='../../2012/07/index.html'>July 2012</a></li>
	<li><a href='../../2012/06/index.html'>June 2012</a></li>
	<li><a href='../../2012/05/index.html'>May 2012</a></li>
	<li><a href='../../2012/04/index.html'>April 2012</a></li>
	<li><a href='../../2012/02/index.html'>February 2012</a></li>
	<li><a href='../../2012/01/index.html'>January 2012</a></li>
	<li><a href='../../2011/12/index.html'>December 2011</a></li>
	<li><a href='../../2011/11/index.html'>November 2011</a></li>
	<li><a href='../../2011/08/index.html'>August 2011</a></li>
	<li><a href='../../2011/03/index.html'>March 2011</a></li>
	<li><a href='../../2010/06/index.html'>June 2010</a></li>
	<li><a href='../../2010/03/index.html'>March 2010</a></li>
	<li><a href='../../2009/12/index.html'>December 2009</a></li>
	<li><a href='../../2009/11/index.html'>November 2009</a></li>
	<li><a href='../../2009/10/index.html'>October 2009</a></li>
	<li><a href='../../2009/09/index.html'>September 2009</a></li>
	<li><a href='../../2009/08/index.html'>August 2009</a></li>
	<li><a href='../../2009/06/index.html'>June 2009</a></li>
	<li><a href='../../2009/05/index.html'>May 2009</a></li>
	<li><a href='../../2009/03/index.html'>March 2009</a></li>
	<li><a href='../../2009/02/index.html'>February 2009</a></li>
	<li><a href='../../2009/01/index.html'>January 2009</a></li>
	<li><a href='../../2008/12/index.html'>December 2008</a></li>
	<li><a href='../../2008/11/index.html'>November 2008</a></li>
	<li><a href='../../2008/10/index.html'>October 2008</a></li>
	<li><a href='../../2008/09/index.html'>September 2008</a></li>
	<li><a href='../../2008/08/index.html'>August 2008</a></li>
	<li><a href='../../2008/06/index.html'>June 2008</a></li>
	<li><a href='../../2008/05/index.html'>May 2008</a></li>
	<li><a href='../../2008/02/index.html'>February 2008</a></li>
	<li><a href='../../2008/01/index.html'>January 2008</a></li>
	<li><a href='../../2007/12/index.html'>December 2007</a></li>
	<li><a href='../../2007/11/index.html'>November 2007</a></li>
	<li><a href='../../2007/10/index.html'>October 2007</a></li>
	<li><a href='../../2007/09/index.html'>September 2007</a></li>
	<li><a href='../../2007/08/index.html'>August 2007</a></li>
	<li><a href='../../2007/07/index.html'>July 2007</a></li>
	<li><a href='../../2007/06/index.html'>June 2007</a></li>
	<li><a href='../../2007/05/index.html'>May 2007</a></li>
	<li><a href='../../2007/04/index.html'>April 2007</a></li>
	<li><a href='../../2007/03/index.html'>March 2007</a></li>
	<li><a href='../../2007/02/index.html'>February 2007</a></li>
	<li><a href='../../2007/01/index.html'>January 2007</a></li>
	<li><a href='../../2006/12/index.html'>December 2006</a></li>
	<li><a href='../../2006/11/index.html'>November 2006</a></li>
	<li><a href='../../2006/10/index.html'>October 2006</a></li>
	<li><a href='../../2006/09/index.html'>September 2006</a></li>
		</ul>
	</li>

		
	<li id="categories">
		<h2>Categories</h2>
		<ul>
			<li class="cat-item cat-item-21"><a href="../astronomy/index.html" title="View all posts filed under astronomy">astronomy</a>
</li>
	<li class="cat-item cat-item-10"><a href="../boggle/index.html" title="View all posts filed under boggle">boggle</a>
</li>
	<li class="cat-item cat-item-8"><a href="../books/index.html" title="View all posts filed under books">books</a>
</li>
	<li class="cat-item cat-item-23"><a href="../finance/index.html" title="View all posts filed under finance">finance</a>
</li>
	<li class="cat-item cat-item-27"><a href="../javascript/index.html" title="View all posts filed under javascript">javascript</a>
</li>
	<li class="cat-item cat-item-20"><a href="../math/index.html" title="View all posts filed under math">math</a>
</li>
	<li class="cat-item cat-item-13"><a href="../meta/index.html" title="View all posts filed under meta">meta</a>
</li>
	<li class="cat-item cat-item-19"><a href="../movies/index.html" title="View all posts filed under movies">movies</a>
</li>
	<li class="cat-item cat-item-11"><a href="../music/index.html" title="View all posts filed under music">music</a>
</li>
	<li class="cat-item cat-item-16"><a href="../news/index.html" title="View all posts filed under news">news</a>
</li>
	<li class="cat-item cat-item-5"><a href="../personal/index.html" title="View all posts filed under personal">personal</a>
</li>
	<li class="cat-item cat-item-6"><a href="../politics/index.html" title="View all posts filed under politics">politics</a>
</li>
	<li class="cat-item cat-item-2 current-cat"><a href="index.html" title="View all posts filed under programming">programming</a>
</li>
	<li class="cat-item cat-item-9"><a href="../reviews/index.html" title="View all posts filed under reviews">reviews</a>
</li>
	<li class="cat-item cat-item-22"><a href="../san-francisco/index.html" title="View all posts filed under san francisco">san francisco</a>
</li>
	<li class="cat-item cat-item-7"><a href="../science/index.html" title="View all posts filed under science">science</a>
</li>
	<li class="cat-item cat-item-28"><a href="../space/index.html" title="View all posts filed under space">space</a>
</li>
	<li class="cat-item cat-item-17"><a href="../sports/index.html" title="View all posts filed under sports">sports</a>
</li>
	<li class="cat-item cat-item-3"><a href="../tennis/index.html" title="View all posts filed under tennis">tennis</a>
</li>
	<li class="cat-item cat-item-4"><a href="../travel/index.html" title="View all posts filed under travel">travel</a>
</li>
	<li class="cat-item cat-item-18"><a href="../tv/index.html" title="View all posts filed under tv">tv</a>
</li>
	<li class="cat-item cat-item-1"><a href="../uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="../web/index.html" title="View all posts filed under web">web</a>
</li>
	<li class="cat-item cat-item-14"><a href="../wikipedia/index.html" title="View all posts filed under wikipedia">wikipedia</a>
</li>
 
		</ul>
	</li>
	
			
	
	<li id="meta">
		<h2>Meta</h2>
		<ul>
				<li><a href="../../wp-login.html">Log in</a></li>
		<li><a href="../../feed/index.html" title="Syndicate this site using RSS">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
		<li><a href="../../comments/feed/index.html" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
		<li><a href="http://wordpress.org/" title="Powered by Wordpress, state-of-the-art semantic personal publishing platform.">Wordpress</a></li>
				</ul>
	</li>
	
</ul>
</div>

<div id="footer">

<!--<p>


Design by <a href="http://ravenkeller.com">Raven Keller</a> and <a href="http://weblogs.us" title="Theme sponsored by Weblogs.us">Weblogs.us</a>
&#183;
<a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a>
&#183;
<a href="http://jigsaw.w3.org/css-validator/check/referer" title="This page validates as CSS"><abbr title="Cascading Style Sheets">CSS</abbr></a>
<img src='http://counter.dreamhost.com/cgi-bin/Count.cgi?df=danvk-maincounter.dat&pad=F&ft=0&dd=copper&istrip=T' align=right />
</p>-->


</div>

<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore677a.js?ver=3.0.9'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml677a.js?ver=3.0.9'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss677a.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore677a.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault677a.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>

<!-- Google Analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-769809-1";
urchinTracker();
</script>

</body>

<!-- Mirrored from www.danvk.org/wp/category/programming/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Oct 2014 03:08:41 GMT -->
</html>	



<!--<footer class="container"></footer>-->
