 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from www.danvk.org/wp/category/uncategorized/page/3/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Oct 2014 03:21:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="generator" content="WordPress 3.9.2" /> <!-- leave this for stats please -->
	<title>danvk.org &raquo; Uncategorized</title>
	<style type="text/css" media="screen">
		@import url( ../../../../wp-content/themes/ocadia/style.css);
			</style>
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../../../../feed/index.html" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="../../../../feed/rss/index.html" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="../../../../feed/atom/index.html" />
	<link rel="pingback" href="../../../../xmlrpc.php" />
    	<link rel='archives' title='October 2014' href='../../../../2014/10/index.html' />
	<link rel='archives' title='August 2014' href='../../../../2014/08/index.html' />
	<link rel='archives' title='July 2014' href='../../../../2014/07/index.html' />
	<link rel='archives' title='June 2014' href='../../../../2014/06/index.html' />
	<link rel='archives' title='March 2014' href='../../../../2014/03/index.html' />
	<link rel='archives' title='February 2014' href='../../../../2014/02/index.html' />
	<link rel='archives' title='January 2014' href='../../../../2014/01/index.html' />
	<link rel='archives' title='August 2013' href='../../../../2013/08/index.html' />
	<link rel='archives' title='June 2013' href='../../../../2013/06/index.html' />
	<link rel='archives' title='April 2013' href='../../../../2013/04/index.html' />
	<link rel='archives' title='March 2013' href='../../../../2013/03/index.html' />
	<link rel='archives' title='February 2013' href='../../../../2013/02/index.html' />
	<link rel='archives' title='January 2013' href='../../../../2013/01/index.html' />
	<link rel='archives' title='December 2012' href='../../../../2012/12/index.html' />
	<link rel='archives' title='September 2012' href='../../../../2012/09/index.html' />
	<link rel='archives' title='August 2012' href='../../../../2012/08/index.html' />
	<link rel='archives' title='July 2012' href='../../../../2012/07/index.html' />
	<link rel='archives' title='June 2012' href='../../../../2012/06/index.html' />
	<link rel='archives' title='May 2012' href='../../../../2012/05/index.html' />
	<link rel='archives' title='April 2012' href='../../../../2012/04/index.html' />
	<link rel='archives' title='February 2012' href='../../../../2012/02/index.html' />
	<link rel='archives' title='January 2012' href='../../../../2012/01/index.html' />
	<link rel='archives' title='December 2011' href='../../../../2011/12/index.html' />
	<link rel='archives' title='November 2011' href='../../../../2011/11/index.html' />
	<link rel='archives' title='August 2011' href='../../../../2011/08/index.html' />
	<link rel='archives' title='March 2011' href='../../../../2011/03/index.html' />
	<link rel='archives' title='June 2010' href='../../../../2010/06/index.html' />
	<link rel='archives' title='March 2010' href='../../../../2010/03/index.html' />
	<link rel='archives' title='December 2009' href='../../../../2009/12/index.html' />
	<link rel='archives' title='November 2009' href='../../../../2009/11/index.html' />
	<link rel='archives' title='October 2009' href='../../../../2009/10/index.html' />
	<link rel='archives' title='September 2009' href='../../../../2009/09/index.html' />
	<link rel='archives' title='August 2009' href='../../../../2009/08/index.html' />
	<link rel='archives' title='June 2009' href='../../../../2009/06/index.html' />
	<link rel='archives' title='May 2009' href='../../../../2009/05/index.html' />
	<link rel='archives' title='March 2009' href='../../../../2009/03/index.html' />
	<link rel='archives' title='February 2009' href='../../../../2009/02/index.html' />
	<link rel='archives' title='January 2009' href='../../../../2009/01/index.html' />
	<link rel='archives' title='December 2008' href='../../../../2008/12/index.html' />
	<link rel='archives' title='November 2008' href='../../../../2008/11/index.html' />
	<link rel='archives' title='October 2008' href='../../../../2008/10/index.html' />
	<link rel='archives' title='September 2008' href='../../../../2008/09/index.html' />
	<link rel='archives' title='August 2008' href='../../../../2008/08/index.html' />
	<link rel='archives' title='June 2008' href='../../../../2008/06/index.html' />
	<link rel='archives' title='May 2008' href='../../../../2008/05/index.html' />
	<link rel='archives' title='February 2008' href='../../../../2008/02/index.html' />
	<link rel='archives' title='January 2008' href='../../../../2008/01/index.html' />
	<link rel='archives' title='December 2007' href='../../../../2007/12/index.html' />
	<link rel='archives' title='November 2007' href='../../../../2007/11/index.html' />
	<link rel='archives' title='October 2007' href='../../../../2007/10/index.html' />
	<link rel='archives' title='September 2007' href='../../../../2007/09/index.html' />
	<link rel='archives' title='August 2007' href='../../../../2007/08/index.html' />
	<link rel='archives' title='July 2007' href='../../../../2007/07/index.html' />
	<link rel='archives' title='June 2007' href='../../../../2007/06/index.html' />
	<link rel='archives' title='May 2007' href='../../../../2007/05/index.html' />
	<link rel='archives' title='April 2007' href='../../../../2007/04/index.html' />
	<link rel='archives' title='March 2007' href='../../../../2007/03/index.html' />
	<link rel='archives' title='February 2007' href='../../../../2007/02/index.html' />
	<link rel='archives' title='January 2007' href='../../../../2007/01/index.html' />
	<link rel='archives' title='December 2006' href='../../../../2006/12/index.html' />
	<link rel='archives' title='November 2006' href='../../../../2006/11/index.html' />
	<link rel='archives' title='October 2006' href='../../../../2006/10/index.html' />
	<link rel='archives' title='September 2006' href='../../../../2006/09/index.html' />
	<link rel="alternate" type="application/rss+xml" title="danvk.org &raquo; Uncategorized Category Feed" href="../../feed/index.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.2" />
<style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; }
/* ]]> */
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
	
<body>

<div id="wrapper">

<div id="header">
<h1><a href="http://www.danvk.org/wp">danvk.org</a></h1>
<p>Keepin&#8217; static like wool fabric since 2006</p>
</div>

<div id="content">

			
				
		<div class="post">

			<h1 class="storydate">08.15.13</h1> 
			<h2 id="post-1100" class="storytitle"><a href="../../../../2013-08-15/and-then-there-were-eight/index.html" rel="bookmark" title="Permanent link to And Then There Were Eight">And Then There Were Eight</a></h2>
			<p class="meta">Posted in <a href="../../index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> at 5:23 am by danvk</p>
		
							<p>Back in February, I posted a <a href="../../../../2013-02-23/how-many-living-people-were-born-in-the-1800s/index.html">list of living people born in the 1800s</a>. There were twelve. Now, six months later, we&#8217;re down to eight! As one of my coworkers says, there seems to be a conspiracy where the oldest person in the world keeps dying.</p>
<table width=100%>
<tr>
<th style='text-align: right;'>#</th>
<th>Name</th>
<th>Sex</th>
<th>Birth date</th>
<th>Age</th>
<th>Residence</th>
</tr>
<tr>
<td style='text-align: right;'> </td>
<td><strike>Jiroemon Kimura</strike></td>
<td>M</td>
<td>1897 April 19</td>
<td>116y 54d</td>
<td>Japan</td>
</tr>
<tr>
<td style='text-align: right;'>1</td>
<td>Misao Okawa</td>
<td>F</td>
<td>1898 March 5</td>
<td>115y 163d</td>
<td>Japan</td>
</tr>
<tr>
<td style='text-align: right;'> </td>
<td><strike>Maria Redaelli-Granoli</strike></td>
<td>F</td>
<td>1899 April 3</td>
<td>113y 364d</td>
<td>Italy</td>
</tr>
<tr>
<td style='text-align: right;'> </td>
<td><strike>Elsie Thompson</strike></td>
<td>F</td>
<td>1899 April 5</td>
<td>113y 350d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'>2</td>
<td>Jeralean Talley</td>
<td>F</td>
<td>1899 May 23</td>
<td>114y 84d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'>3</td>
<td>Susannah Jones</td>
<td>F</td>
<td>1899 July 6</td>
<td>114y 40d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'>4</td>
<td>Bernice Madigan</td>
<td>F</td>
<td>1899 July 24</td>
<td>114y 22d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'>5</td>
<td>Soledad Mexia</td>
<td>F</td>
<td>1899 August 13</td>
<td>114y 2d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'>6</td>
<td>Naomi Conner</td>
<td>F</td>
<td>1899 August 30</td>
<td>113y 350d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'> </td>
<td><strike>Evelyn Kozak</strike></td>
<td>F</td>
<td>1899 August 14</td>
<td>113y 301d</td>
<td>United States</td>
</tr>
<tr>
<td style='text-align: right;'> </td>
<td><strike>Mitsue Nagasaki</strike></td>
<td>F</td>
<td>1899 Sept. 18</td>
<td>113y 272d</td>
<td>Japan</td>
</tr>
<tr>
<td style='text-align: right;'>7</td>
<td>Emma Morano-Martinuzzi</td>
<td>F</td>
<td>1899 Nov. 29</td>
<td>113y 259d</td>
<td>Italy</td>
</tr>
<tr>
<td style='text-align: right;'>8</td>
<td>Grace Jones</td>
<td>F</td>
<td>1899 Dec. 7</td>
<td>113y 251d</td>
<td>United Kingdom</td>
</tr>
</table>
<p>Naomi Conner is new to this list&mdash;perhaps she was &#8220;discovered&#8221; since February. As I mentioned in the previous post, it&#8217;s impossible to say when the 19th century will be &#8220;closed out&#8221;. If the usual probabilities play out, it&#8217;ll happen sometime in the next 2&ndash;3 years. But if any of these eight women turn out to be another Jeanne Calment, then it&#8217;ll be another ten.</p>
			
			<p class="feedback">
			<a href="../../../../2013-08-15/and-then-there-were-eight/index.html" rel="bookmark" title="Permanent link to And Then There Were Eight" class="permalink">Permalink</a>
			<a href="../../../../2013-08-15/and-then-there-were-eight/index.html#comments" class="commentslink"  title="Comment on And Then There Were Eight">3 Comments</a>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-08-15/and-then-there-were-eight/"
    dc:identifier="http://www.danvk.org/wp/2013-08-15/and-then-there-were-eight/"
    dc:title="And Then There Were Eight"
    trackback:ping="http://www.danvk.org/wp/2013-08-15/and-then-there-were-eight/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">06.22.13</h1> 
			<h2 id="post-1094" class="storytitle"><a href="../../../../2013-06-22/daily-citibike-usage/index.html" rel="bookmark" title="Permanent link to Daily Citibike Usage">Daily Citibike Usage</a></h2>
			<p class="meta">Posted in <a href="../../index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> at 2:11 pm by danvk</p>
		
							<p>I enjoyed <a href="http://quikchange.net/">Antonio D&#8217;Souza&#8217;s</a> <a href="http://quikchange.net/citibike">Citibike Traction</a> chart but thought it painted an overly rosy picture by showing cumulative rides, not daily rides.</p>
<p>Here&#8217;s a version of his chart with daily rides:</p>
<p><img src="../../../../wp-content/uploads/2013/06/daily-trips.png" alt="daily trips" width="537" height="308" class="aligncenter size-full wp-image-1095" /></p>
<p>Saturdays and Sundays are colored in red. Sundays seem to be particularly popular days to use Citibike. The daily and weekly passes launched on June 2nd, which helps explain the big uptick on that day. There&#8217;s also been a big uptick in the past two days, on the 20th and 21st, for reasons that are unclear to me. The start of the summer tourist season?</p>
<p>The overall trend seems to be up, though. It&#8217;ll be interesting to revisit this in a few months and see if the trend continues to hold up.</p>
<p>Raw data comes from the <a href="https://citibikenyc.com/blog">Citibike Blog</a>. You can download the spreadsheet I used to generate this chart <a href="../../../../wp-content/uploads/2013/06/Citibike.xlsx">here</a>.</p>
			
			<p class="feedback">
			<a href="../../../../2013-06-22/daily-citibike-usage/index.html" rel="bookmark" title="Permanent link to Daily Citibike Usage" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-06-22/daily-citibike-usage/"
    dc:identifier="http://www.danvk.org/wp/2013-06-22/daily-citibike-usage/"
    dc:title="Daily Citibike Usage"
    trackback:ping="http://www.danvk.org/wp/2013-06-22/daily-citibike-usage/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">04.20.13</h1> 
			<h2 id="post-1086" class="storytitle"><a href="../../../../2013-04-20/generating-training-data/index.html" rel="bookmark" title="Permanent link to Generating Training Data">Generating Training Data</a></h2>
			<p class="meta">Posted in <a href="../../index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> at 11:26 am by danvk</p>
		
							<p>As you may remember from a <a href="../../../../2013-02-09/finding-pictures-in-pictures/index.html">previous post</a>, I&#8217;ve been doing some work with a collection of old images. The first problem was to write a program to find the individual photos in images like these:</p>
<p><center><img src="http://images.nypl.org/index.php?id=711018f&amp;t=r" width=194 height=300 /> &nbsp; <img src="http://images.nypl.org/index.php?id=715591f&amp;t=r" width=194 height=300 /> &nbsp; <img src="http://images.nypl.org/index.php?id=710504f&amp;t=r" width=194 height=300 /></center></p>
<p>This is easy for humans, but hard for a machine!</p>
<p>A key part of developing any heuristic algorithm like this one is to get some training data. You find the correct answer by hand for some fraction of the data, then judge your program by seeing how its results compare to the &#8220;golden&#8221; data.</p>
<p>For my photo detection project, the golden data might look like <a href="https://github.com/danvk/sfhistory/blob/master/nyc/testdata/outputs.csv">this</a>:</p>
<pre>image_url,rects
images/700005f.jpg,[{x1:959,x2:3137,y1:533,y2:1939}]
images/700049f.jpg,[{x1:863,x2:3033,y1:571,y2:1983}]
images/700079f.jpg,[{x1:829,x2:2987,y1:457,y2:1852}]
images/700256f.jpg,[{x1:837,x2:3002,y1:536,y2:1927}]
images/700284f.jpg,[{x1:919,x2:2303,y1:845,y2:2956}]
images/700288f.jpg,[{x1:1140,x2:3290,y1:545,y2:1923},{x1:1157,x2:3313,y1:2286,y2:3659}]</pre>
<p>You could generate this sort of data by hand using a photo inspector and a text editor. But it would be tremendously tedious. You wouldn&#8217;t want to do this for 100 images unless you were being paid. For a personal project, it&#8217;s a non-starter.</p>
<p>A little bit of usability work here can go a long way. For this project, I built a simple web tool using my <a href="https://github.com/danvk/localturk">localturk</a> service. It&#8217;s a tool which helps you step through repetitive tasks using a web browser. It exposes the exact same API as Amazon&#8217;s <a href="https://www.mturk.com/mturk/">Mechanical Turk</a>: <a href="https://github.com/danvk/sfhistory/blob/master/nyc/testdata/tasks.csv">CSV input</a> + <a href="https://github.com/danvk/sfhistory/blob/master/nyc/testdata/find-rects.html">HTML Template</a> &rarr; <a href="https://github.com/danvk/sfhistory/blob/master/nyc/testdata/outputs.csv">CSV output</a>. But it runs on your own machine  and you do the work yourself. No external turkers or exchange of money involved.</p>
<p>My tool shows the original image on the page and asks you to drag rectangles across the individual photos. You can resize or move the rectangles after you draw them:</p>
<p><a href="http://danvk.org/localturk-demo/localturk.html" target="_blank"><img src="../../../../wp-content/uploads/2013/04/turk-demo.png" alt="turk-demo" width="630" height="325" class="aligncenter size-full wp-image-1087" border=0 /></a></p>
<p><i>Click the image to try this tool in your browser.</i></p>
<p>localturk records the responses in a a CSV output file which you can use as your golden data. The whole process is done visually in your browser.</p>
<p>I&#8217;d estimate I spent maybe an hour creating that template and half an hour stepping through the 100 photos. This may or may not compare favorably to the photo inspector and text editor process I described above, but it was certainly more enjoyable.</p>
<p>In his <a href="../../../../2011-12-19/takeaways-stanfords-machine-learning-class/index.html">Machine Learning class</a>, Andrew Ng says that you should ask &#8220;how hard would it be to get 10x more training data?&#8221; With this fancier system, it would take a few hours. Or I could upload 1,000 tasks to Mechanical Turk and trade time for money.</p>
<p>How do other ML people generate small amounts of training data?</p>
			
			<p class="feedback">
			<a href="../../../../2013-04-20/generating-training-data/index.html" rel="bookmark" title="Permanent link to Generating Training Data" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-04-20/generating-training-data/"
    dc:identifier="http://www.danvk.org/wp/2013-04-20/generating-training-data/"
    dc:title="Generating Training Data"
    trackback:ping="http://www.danvk.org/wp/2013-04-20/generating-training-data/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">03.27.13</h1> 
			<h2 id="post-1076" class="storytitle"><a href="../../../../2013-03-27/ncaa-brackets/index.html" rel="bookmark" title="Permanent link to NCAA Brackets">NCAA Brackets</a></h2>
			<p class="meta">Posted in <a href="../../index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> at 8:28 pm by danvk</p>
		
							<p>My group recently launched a custom UI for <a href="http://google.com/search?q=march+madness">March Madness searches</a>:</p>
<p><a href="../../../../wp-content/uploads/2013/03/sweet-sixteen.png"><img src="../../../../wp-content/uploads/2013/03/sweet-sixteen-small.png" alt="NCAA Bracket onebox showing Sweet Sixteen" width="673" height="611" class="aligncenter size-full wp-image-1077" style="border:none"/></a></p>
<p>The Sweet Sixteen view looks particularly nice on tablets, where you get high resolution team logos and crisp text for the team names. While games are being played, you can follow the scores live in the bracket.</p>
<p>The launch was an interesting experience. I <a href="https://twitter.com/danvdk/status/314136774312091648">wrote a tweet</a> shortly after we went live. It immediately got picked up by <a href="http://techcrunch.com/2013/03/19/google-march-madness-bracket/">TechCrunch</a>, <a href="http://searchengineland.com/march-madness-bracket-in-google-search-results-152319">Search Engine Land</a> and <a href="http://www.avc.com/a_vc/2013/03/fun-friday-march-madness.html">Fred Wilson</a>.</p>
<p>There are some slightly wild CSS tricks going on to mirror the bracket on the right-hand side and to make substitute team abbreviations when their full names won&#8217;t fit. Fodder for a future danvk.org post!</p>
			
			<p class="feedback">
			<a href="../../../../2013-03-27/ncaa-brackets/index.html" rel="bookmark" title="Permanent link to NCAA Brackets" class="permalink">Permalink</a>
			<span class="commentslink">Comments off</span>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-03-27/ncaa-brackets/"
    dc:identifier="http://www.danvk.org/wp/2013-03-27/ncaa-brackets/"
    dc:title="NCAA Brackets"
    trackback:ping="http://www.danvk.org/wp/2013-03-27/ncaa-brackets/trackback/" />
</rdf:RDF>			-->

			</div>
	
				
		<div class="post">

			<h1 class="storydate">03.03.13</h1> 
			<h2 id="post-1063" class="storytitle"><a href="../../../../2013-03-03/keep-your-html-in-your-html/index.html" rel="bookmark" title="Permanent link to Keep your HTML in your HTML">Keep your HTML in your HTML</a></h2>
			<p class="meta">Posted in <a href="../../index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> at 11:25 am by danvk</p>
		
							<p>I sometimes see code like this to generate DOM structures in JavaScript:</p>
<style>.syntaxhighlighter table td.code .line {white-space: pre-wrap !important; word-wrap: break-word !important;}</style>
<pre class="brush: jscript; title: ; notranslate" title="">
var div = document.createElement(&quot;div&quot;);
div.innerHTML = &quot;&lt;div id='foo' onclick='document.getElementById(\&quot;foo\&quot;).style.display=\&quot;none\&quot;;' style='position: absolute; top: 10px; left: 10px;'&gt;&quot; + content + &quot;&lt;/div&gt;&quot;;
document.body.appendChild(div);
</pre>
<p>This style gets very confusing very quickly. The issue is that it uses JavaScript to write HTML, CSS and even JavaScript inside HTML!</p>
<p>The key to untangling these knots is to remember this rule:</p>
<p><i>Keep your HTML in your HTML, your JavaScript in your JavaScript and your CSS in your CSS.</i></p>
<p>Here&#8217;s how I&#8217;d rewrite that snippet with this in mind:</p>
<p>HTML:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;div id='foo-template' class='foo' style='display:none;'&gt;
&lt;/div&gt;
</pre>
<p>CSS:</p>
<pre class="brush: css; title: ; notranslate" title="">
.foo {
  position: absolute;
  top: 10px;
  left: 10px;
}
</pre>
<p>JavaScript:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
var $foo = $('#foo-template').clone().removeAttr('id');
$foo
  .on('click', function() { $(this).hide(); })
  .text(content)
  .appendTo(document.body)
  .show();
</pre>
<p>The idea is that JavaScript is a really terrible language for building DOM structures. You can use either the innerHTML technique (in which case you run into quoting issues) or the DOM manipulation APIs (which are quite cumbersome and verbose).</p>
<p>HTML is a great way to define DOM structures! So define your DOM structures there, even the ones that you&#8217;ll add dynamically. You can use jQuery&#8217;s <a href="http://api.jquery.com/clone/">clone</a> method to make copies of them that you fill out before adding them to the page.</p>
<p>CSS is also a great language for defining styles, so why put them inline in your HTML? Just use a class and move the styles into your CSS.</p>
<p>And really, do you want to write JavaScript that writes HTML that includes JavaScript?</p>
<p>You can see a real-world example of this technique in OldSF&#8217;s <a href="https://github.com/danvk/sfhistory/blob/master/viewer/viewer.html">HTML</a>, <a href="https://github.com/danvk/sfhistory/blob/master/viewer/viewer.js">JS</a> and <a href="https://github.com/danvk/sfhistory/blob/master/viewer/viewer.css">CSS</a>.</p>
			
			<p class="feedback">
			<a href="../../../../2013-03-03/keep-your-html-in-your-html/index.html" rel="bookmark" title="Permanent link to Keep your HTML in your HTML" class="permalink">Permalink</a>
			<a href="../../../../2013-03-03/keep-your-html-in-your-html/index.html#comments" class="commentslink"  title="Comment on Keep your HTML in your HTML">3 Comments</a>						</p>
			
			<!--
			<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.danvk.org/wp/2013-03-03/keep-your-html-in-your-html/"
    dc:identifier="http://www.danvk.org/wp/2013-03-03/keep-your-html-in-your-html/"
    dc:title="Keep your HTML in your HTML"
    trackback:ping="http://www.danvk.org/wp/2013-03-03/keep-your-html-in-your-html/trackback/" />
</rdf:RDF>			-->

			</div>
	
		
		<p>
			<span class="post_nav"><a href="../2/index.html" >&laquo; Previous Page</a> &#8212; <a href="../4/index.html" >&laquo; Previous entries</a></span>
		<!--	<a href="http://www.danvk.org/wp/category/uncategorized/page/2/" >&laquo; Previous Page</a> &#183; <a href="http://www.danvk.org/wp/category/uncategorized/page/4/" >Next Page &raquo;</a>-->
			<span><a href="../2/index.html" >Next entries &raquo;</a> &#8212; <a href="../4/index.html" >Next Page &raquo;</a></span>
		</p>
		
	
</div>

<div id="sidebar">
<ul>

	<li id="search">
		<form method="get" id="searchform" action="http://www.danvk.org/wp/index.php">
<p>
<input type="text" value="" name="s" id="s" /><br />
<input type="submit" id="searchsubmit" value="Search" />
</p>
</form>	</li> 

<!-- I want more control than this gives me: wp_list_pages('title_li=<h2>' . __('Pages') . '</h2>' ); -->

	<li class="pagenav">
		<ul>
			<!--<li class="page_item"><a href="http://www.danvk.org/wp/?page_id=2" title="About">About</a></li>-->
			<li>Dan across the web
				<ul>
					<li class="social">
					<a href="https://github.com/danvk"><img src="https://github.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://twitter.com/danvdk"><img src="https://twitter.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://www.facebook.com/danvdk"><img src="https://facebook.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://plus.google.com/+DanVanderkam"><img src="https://plus.google.com/favicon.ico" width=16 height=16 border=0></a>
					<a href="https://www.linkedin.com/profile/view?id=340204755"><img src="https://www.linkedin.com/favicon.ico" width=16 height=16 border=0></a>
					<script data-gittip-username="danvdk" data-gittip-widget="button" src="http://gttp.co/v1.js"></script>
				</ul>

			<li>Dan's projects
				<ul class="projects">
					<li><a href="http://dygraphs.com/">dygraphs</a>
					<li><a href="http://oldsf.org/">OldSF</a>
					<li><a href="http://comparea.org/">Comparea</a>
					<li><a href="https://github.com/danvk/webdiff">git webdiff</a>
				</ul>

			<li>Features on this site
				<ul class="features">
					<li><a href="https://www.danvk.org/boggle/" title="Boggle Solver">Online Boggle Solver</a></li>
					<li><a href="../../../../beals-conjecture/index.html" title="Beal&#039;s Conjecture">Beal's Conjecture</a></li>
					<li><a href="../../../../gw-basic-program-decoder/index.html" title="GW-BASIC Program Decoder">GW-BASIC Program Decoder</a></li>
					<li><a href="http://www.danvk.org/tower/nstower.html">NS-Tower in your Browser</a></li>
				</ul>
		</ul>
	</li>

	<!--
	<li id="twitter_sidebar">
		<div id="twitter_div">
		<a href="http://twitter.com/danvdk" target="_blank"><h2 class="sidebar-title">Follow me on Twitter</h2></a>
		<ul id="twitter_update_list" style="padding-right:30px"></ul>
		
		</div>
		<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
		<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/danvdk.json?callback=twitterCallback2&amp;count=5"></script>
	</li>
	-->

	<li id="archives">
		<h2>Archives</h2>
		<ul>
			<li><a href='../../../../2014/10/index.html'>October 2014</a></li>
	<li><a href='../../../../2014/08/index.html'>August 2014</a></li>
	<li><a href='../../../../2014/07/index.html'>July 2014</a></li>
	<li><a href='../../../../2014/06/index.html'>June 2014</a></li>
	<li><a href='../../../../2014/03/index.html'>March 2014</a></li>
	<li><a href='../../../../2014/02/index.html'>February 2014</a></li>
	<li><a href='../../../../2014/01/index.html'>January 2014</a></li>
	<li><a href='../../../../2013/08/index.html'>August 2013</a></li>
	<li><a href='../../../../2013/06/index.html'>June 2013</a></li>
	<li><a href='../../../../2013/04/index.html'>April 2013</a></li>
	<li><a href='../../../../2013/03/index.html'>March 2013</a></li>
	<li><a href='../../../../2013/02/index.html'>February 2013</a></li>
	<li><a href='../../../../2013/01/index.html'>January 2013</a></li>
	<li><a href='../../../../2012/12/index.html'>December 2012</a></li>
	<li><a href='../../../../2012/09/index.html'>September 2012</a></li>
	<li><a href='../../../../2012/08/index.html'>August 2012</a></li>
	<li><a href='../../../../2012/07/index.html'>July 2012</a></li>
	<li><a href='../../../../2012/06/index.html'>June 2012</a></li>
	<li><a href='../../../../2012/05/index.html'>May 2012</a></li>
	<li><a href='../../../../2012/04/index.html'>April 2012</a></li>
	<li><a href='../../../../2012/02/index.html'>February 2012</a></li>
	<li><a href='../../../../2012/01/index.html'>January 2012</a></li>
	<li><a href='../../../../2011/12/index.html'>December 2011</a></li>
	<li><a href='../../../../2011/11/index.html'>November 2011</a></li>
	<li><a href='../../../../2011/08/index.html'>August 2011</a></li>
	<li><a href='../../../../2011/03/index.html'>March 2011</a></li>
	<li><a href='../../../../2010/06/index.html'>June 2010</a></li>
	<li><a href='../../../../2010/03/index.html'>March 2010</a></li>
	<li><a href='../../../../2009/12/index.html'>December 2009</a></li>
	<li><a href='../../../../2009/11/index.html'>November 2009</a></li>
	<li><a href='../../../../2009/10/index.html'>October 2009</a></li>
	<li><a href='../../../../2009/09/index.html'>September 2009</a></li>
	<li><a href='../../../../2009/08/index.html'>August 2009</a></li>
	<li><a href='../../../../2009/06/index.html'>June 2009</a></li>
	<li><a href='../../../../2009/05/index.html'>May 2009</a></li>
	<li><a href='../../../../2009/03/index.html'>March 2009</a></li>
	<li><a href='../../../../2009/02/index.html'>February 2009</a></li>
	<li><a href='../../../../2009/01/index.html'>January 2009</a></li>
	<li><a href='../../../../2008/12/index.html'>December 2008</a></li>
	<li><a href='../../../../2008/11/index.html'>November 2008</a></li>
	<li><a href='../../../../2008/10/index.html'>October 2008</a></li>
	<li><a href='../../../../2008/09/index.html'>September 2008</a></li>
	<li><a href='../../../../2008/08/index.html'>August 2008</a></li>
	<li><a href='../../../../2008/06/index.html'>June 2008</a></li>
	<li><a href='../../../../2008/05/index.html'>May 2008</a></li>
	<li><a href='../../../../2008/02/index.html'>February 2008</a></li>
	<li><a href='../../../../2008/01/index.html'>January 2008</a></li>
	<li><a href='../../../../2007/12/index.html'>December 2007</a></li>
	<li><a href='../../../../2007/11/index.html'>November 2007</a></li>
	<li><a href='../../../../2007/10/index.html'>October 2007</a></li>
	<li><a href='../../../../2007/09/index.html'>September 2007</a></li>
	<li><a href='../../../../2007/08/index.html'>August 2007</a></li>
	<li><a href='../../../../2007/07/index.html'>July 2007</a></li>
	<li><a href='../../../../2007/06/index.html'>June 2007</a></li>
	<li><a href='../../../../2007/05/index.html'>May 2007</a></li>
	<li><a href='../../../../2007/04/index.html'>April 2007</a></li>
	<li><a href='../../../../2007/03/index.html'>March 2007</a></li>
	<li><a href='../../../../2007/02/index.html'>February 2007</a></li>
	<li><a href='../../../../2007/01/index.html'>January 2007</a></li>
	<li><a href='../../../../2006/12/index.html'>December 2006</a></li>
	<li><a href='../../../../2006/11/index.html'>November 2006</a></li>
	<li><a href='../../../../2006/10/index.html'>October 2006</a></li>
	<li><a href='../../../../2006/09/index.html'>September 2006</a></li>
		</ul>
	</li>

		
	<li id="categories">
		<h2>Categories</h2>
		<ul>
			<li class="cat-item cat-item-21"><a href="../../../astronomy/index.html" title="View all posts filed under astronomy">astronomy</a>
</li>
	<li class="cat-item cat-item-10"><a href="../../../boggle/index.html" title="View all posts filed under boggle">boggle</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../books/index.html" title="View all posts filed under books">books</a>
</li>
	<li class="cat-item cat-item-23"><a href="../../../finance/index.html" title="View all posts filed under finance">finance</a>
</li>
	<li class="cat-item cat-item-27"><a href="../../../javascript/index.html" title="View all posts filed under javascript">javascript</a>
</li>
	<li class="cat-item cat-item-20"><a href="../../../math/index.html" title="View all posts filed under math">math</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../../meta/index.html" title="View all posts filed under meta">meta</a>
</li>
	<li class="cat-item cat-item-19"><a href="../../../movies/index.html" title="View all posts filed under movies">movies</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../../music/index.html" title="View all posts filed under music">music</a>
</li>
	<li class="cat-item cat-item-16"><a href="../../../news/index.html" title="View all posts filed under news">news</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../../personal/index.html" title="View all posts filed under personal">personal</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../../politics/index.html" title="View all posts filed under politics">politics</a>
</li>
	<li class="cat-item cat-item-2"><a href="../../../programming/index.html" title="View all posts filed under programming">programming</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../../reviews/index.html" title="View all posts filed under reviews">reviews</a>
</li>
	<li class="cat-item cat-item-22"><a href="../../../san-francisco/index.html" title="View all posts filed under san francisco">san francisco</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../../science/index.html" title="View all posts filed under science">science</a>
</li>
	<li class="cat-item cat-item-28"><a href="../../../space/index.html" title="View all posts filed under space">space</a>
</li>
	<li class="cat-item cat-item-17"><a href="../../../sports/index.html" title="View all posts filed under sports">sports</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../tennis/index.html" title="View all posts filed under tennis">tennis</a>
</li>
	<li class="cat-item cat-item-4"><a href="../../../travel/index.html" title="View all posts filed under travel">travel</a>
</li>
	<li class="cat-item cat-item-18"><a href="../../../tv/index.html" title="View all posts filed under tv">tv</a>
</li>
	<li class="cat-item cat-item-1 current-cat"><a href="../../index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="../../../web/index.html" title="View all posts filed under web">web</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../../wikipedia/index.html" title="View all posts filed under wikipedia">wikipedia</a>
</li>
 
		</ul>
	</li>
	
			
	
	<li id="meta">
		<h2>Meta</h2>
		<ul>
				<li><a href="../../../../wp-login.html">Log in</a></li>
		<li><a href="../../../../feed/index.html" title="Syndicate this site using RSS">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
		<li><a href="../../../../comments/feed/index.html" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
		<li><a href="http://wordpress.org/" title="Powered by Wordpress, state-of-the-art semantic personal publishing platform.">Wordpress</a></li>
				</ul>
	</li>
	
</ul>
</div>

<div id="footer">

<!--<p>


Design by <a href="http://ravenkeller.com">Raven Keller</a> and <a href="http://weblogs.us" title="Theme sponsored by Weblogs.us">Weblogs.us</a>
&#183;
<a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a>
&#183;
<a href="http://jigsaw.w3.org/css-validator/check/referer" title="This page validates as CSS"><abbr title="Cascading Style Sheets">CSS</abbr></a>
<img src='http://counter.dreamhost.com/cgi-bin/Count.cgi?df=danvk-maincounter.dat&pad=F&ft=0&dd=copper&istrip=T' align=right />
</p>-->


</div>

<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore677a.js?ver=3.0.9'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript677a.js?ver=3.0.9'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml677a.js?ver=3.0.9'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss677a.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore677a.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault677a.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>

<!-- Google Analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-769809-1";
urchinTracker();
</script>

</body>

<!-- Mirrored from www.danvk.org/wp/category/uncategorized/page/3/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Oct 2014 03:21:43 GMT -->
</html>	



<!--<footer class="container"></footer>-->
