<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>danvk.org</title>
	<atom:link href="http://www.danvk.org/wp/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.danvk.org/wp</link>
	<description>Keepin' static like wool fabric since 2006</description>
	<lastBuildDate>Thu, 09 Oct 2014 15:59:51 +0000</lastBuildDate>
	<language>en-US</language>
		<sy:updatePeriod>hourly</sy:updatePeriod>
		<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.9.2</generator>
	<item>
		<title>Moving to GitHub Pages</title>
		<link>http://www.danvk.org/wp/2014-10-09/moving-to-github-pages/</link>
		<comments>http://www.danvk.org/wp/2014-10-09/moving-to-github-pages/#comments</comments>
		<pubDate>Thu, 09 Oct 2014 15:59:51 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1218</guid>
		<description><![CDATA[TL;DR: new site, new blog, new feed After eight years of blogging with WordPress, it&#8217;s time to ditch this 11-year old technology in favor of the merely 6-year old GitHub pages. Visiting danvk.org will take you to the new site, from which you can find the new danvk blog. For RSS subscribers, you can find [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>TL;DR: <a href="http://danvk.org/">new site</a>, <a href="https://danvk.github.io/blog.html">new blog</a>, <a href="https://danvk.github.io/atom.xml">new feed</a></p>
<p>After eight years of blogging with WordPress, it&#8217;s time to ditch this <a href="http://www.hongkiat.com/blog/evolution-of-wordpress/">11-year old</a> technology in favor of the merely <a href="https://github.com/blog/272-github-pages">6-year old</a> GitHub pages.</p>
<p>Visiting <a href="http://danvk.org/">danvk.org</a> will take you to the new site, from which you can find the <a href="https://danvk.github.io/blog.html">new danvk blog</a>. For RSS subscribers, you can find the new feed <a href="https://danvk.github.io/atom.xml">here</a>. Head on over and leave a comment!</p>
<p>As part of the move, I read through all eight years of blog posts. This was a real trip down memory lane for me. The blog <a href="http://www.danvk.org/wp/2006-09-15/a-blog-of-my-own/">started</a> as something of a personal journal when I <a href="http://www.danvk.org/wp/2006-09-16/my-drive-out-west/">moved</a> to California, but turned more tech-focused and sparse as I started to make more friends in my new home. I pulled out some highlights from the last eight years <a href="http://danvk.github.io/#old-blog">here</a>.</p>
<p>Why do this? Blogging with WordPress feels heavy-weight and inflexible compared to using Markdown and my existing git workflows. And I&#8217;m very excited about the idea of not hosting my own site&mdash;danvk.org has always felt quite slow to load, but I&#8217;ve never quite been sure why.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-10-09/moving-to-github-pages/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Reading OSM data in C++</title>
		<link>http://www.danvk.org/wp/2014-08-17/reading-osm-data-in-c/</link>
		<comments>http://www.danvk.org/wp/2014-08-17/reading-osm-data-in-c/#comments</comments>
		<pubDate>Sun, 17 Aug 2014 17:50:47 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1211</guid>
		<description><![CDATA[I&#8217;m interested in using OpenStreetMap data to add lots more shapes to Comparea. There are far too many polygons in OSM to include everything, so you have to filter to &#8220;interesting&#8221; ones. That&#8217;s a hard concept to make precise! One idea is to say that any feature with an associated Wikipedia article is interesting. To [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>I&#8217;m interested in using <a href="http://openstreetmap.org/">OpenStreetMap</a> data to add lots more shapes to <a href="http://www.danvk.org/wp/2014-08-13/introducing-comparea/">Comparea</a>. There are far too many polygons in OSM to include everything, so you have to filter to &#8220;interesting&#8221; ones. That&#8217;s a hard concept to make precise! One idea is to say that any feature with an associated Wikipedia article is interesting.</p>
<p>To make a list of such features, I started with the planet.osm file, which you can download <a href="http://wiki.openstreetmap.org/wiki/Planet.osm#BitTorrent">as a Torrent</a>. This file is in &#8220;PBF&#8221; format, an OSM-specific format based on Google&#8217;s <a href="https://code.google.com/p/protobuf/">Protocol Buffers</a>. I tried to filter down to just the features with Wikipedia tags using GDAL&#8217;s <a href="http://www.gdal.org/ogr2ogr.html">ogr2ogr</a> tool (which supports PBF format), but had no luck.</p>
<p>Instead, I wrote my own filter using C++. This was much easier than you might expect and, since the planet.osm.pbf file is 25GB and growing, probably worth the effort.</p>
<p>I used <a href="https://github.com/CanalTP/libosmpbfreader">libosmpbfreader</a>, which depends on <a href="https://github.com/scrosby/OSM-binary">libosmpbf</a>, which in turn depends on <a href="https://code.google.com/p/protobuf/">protoc</a>. On Mac OS X, this was what my install sequence looked like:</p>
<blockquote><p><code>brew install protobuf<br />
git clone https://github.com/scrosby/OSM-binary.git<br />
cd OSM-binary<br />
make -C src<br />
make -C src install<br />
cd ..<br />
git clone https://github.com/CanalTP/libosmpbfreader.git<br />
cd libosmpbfreader<br />
make<br />
./example_counter planet.osm.pbf</code></p></blockquote>
<p>Running the <code>example_counter</code> binary over </code>planet.osm.pbf</code>, I was able to read something like 2GB/minute of data, so 12-13 minutes for the full file. The wikipedia filtering code ran in ~30 minutes. Here's my <a href="https://gist.github.com/danvk/66405fd9b2b981faea3e">full code</a> if you're interested. There were 117,211 ways with Wikipedia tags and 156,064 relations.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-08-17/reading-osm-data-in-c/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Introducing Comparea</title>
		<link>http://www.danvk.org/wp/2014-08-13/introducing-comparea/</link>
		<comments>http://www.danvk.org/wp/2014-08-13/introducing-comparea/#comments</comments>
		<pubDate>Wed, 13 Aug 2014 18:33:16 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1205</guid>
		<description><![CDATA[Comparea is a tool that lets you Comparea Areas. It lets you answer questions like &#8220;how big is Greenland, really?&#8221; or &#8220;how large would Alaska be if it were in the contiguous US?&#8221; Comparea projects the two geographic features using equal area projections with the same scale but different centers. This results in a valid [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="http://www.comparea.org/">Comparea</a> is a tool that lets you <i>Comparea Areas</i>. It lets you answer questions like &#8220;how big is Greenland, really?&#8221; or &#8220;how large would Alaska be if it were in the contiguous US?&#8221;</p>
<p><a href="http://www.comparea.org/USA48+US_AK"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/08/comparea-alaska.png" alt="Comparea: Alaska vs. USA" width="526" height="356" class="aligncenter size-full wp-image-1206" /></a></p>
<p>Comparea projects the two geographic features using equal area projections with the same scale but different centers. This results in a valid comparison of their areas with minimal distortion for each shape. You can read more on <a href="http://comparea.org/about">Comparea&#8217;s about page</a> or study this nifty diagram:</p>
<p><a href="http://www.comparea.org/USA48+GRL"><img src="http://www.comparea.org/static/img/how-comparea-works.png" width=791 class="aligncenter"></a></p>
<p>It works great on both desktop and touch devices, where you can drag the two shapes with your fingers or pinch to zoom.</p>
<p>Like most of my side projects, this one was developed on and off over a long period of time. I first worked on the project in spring 2012, discovered <a href="http://www.naturalearthdata.com/">Natural Earth Data</a> and quickly made a purely client-side <a href="http://danvk.org/size/viewer.html">demo</a>. The response was generally positive, but I didn&#8217;t release it because of general UI jankiness (the transitions never quite worked), the lack of a backend and the feeling that I didn&#8217;t have enough polygons to make it fun.</p>
<p>About a year later (in early 2013) I started playing with Open Street Maps data.  There are tons of great polygons in their data dumps, including smaller features like <a href="http://www.openstreetmap.org/way/158602261">Golden Gate Park</a> or <a href="http://www.openstreetmap.org/way/161202890">Central Park</a>. I spent a few weeks playing around with this data set, but ultimately could&#8217;t come up with a good way of deciding which shapes were notable enough to include (there are millions, and not every one block park is notable enough for inclusion).</p>
<p>I&#8217;d shown the Comparea demo to enough people that I was convinced it was worth publishing. (One notable demo session was with my six year old nephew, who rattled off country comparisons to me for nearly an hour!) When I got some time off between jobs, I decided to make releasing Comparea an explicit goal.</p>
<p>In addition to the finished product, the real value of any side project is what you learn from doing it. Here were some highlights:</p>
<ul>
<li><a href="http://flask.pocoo.org">Flask</a> This was my third Flask project (after <a href="https://github.com/danvk/better-pull-requests">gitcritic</a> and <a href="https://plus.google.com/+DanVanderkam/posts/bj4q9J3Ptfo">webdiff</a>) and I finally knew enough to organize it correctly.
<li>The whole hosting stack was new to me. This was my first Heroku project and my first time using CloudFlare for distribution. I&#8217;m a big fan of both. Developing using Flask and Heroku is far more lightweight and flexible than using AppEngine, which was my tool of choice in the past.
<li>I rewrote the UI using <a href="http://d3js.org/">D3</a>. Its projection and behavior tools were godsends. These both made lots of gross SVG manipulation code from my initial demo melt away.
<li>I debugged Natural Earth Data shapes using <a href="http://ipython.org/notebook.html">IPython Notebooks</a>. Nothing beats a visualization for spotting outlying islands, which could dramatically affect a feature&#8217;s bounding box.
</ul>
<p>One of the main bits of feedback I got on the initial Comparea demo was that it would be helpful to show the area of each feature somewhere in the UI, so that you could compare numerically in addition to visually. I expanded this request to include populations and descriptions for each place as well. Sourcing and verifying all this data wound up being one of the most challenging pieces of the project. For example: no one can quite agree on what&#8217;s Morocco and what&#8217;s Western Sahara. The areas and populations you compute will vary depending on where you draw the line, but sources don&#8217;t always say what their line is! To make sure I wasn&#8217;t doing anything too unreasonable, I calculated the areas of my polygons and then compared this value to the stated area from an official source. I iterated until they were all within about 10% of one another.</p>
<p>What&#8217;s next? I&#8217;d like to add more fine-grained shapes to allow comparisons like <i>San Francisco vs. NYC</i> or <i>Golden Gate Park vs. Central Park</i>. And I&#8217;d like to add a mode where you can move one shape around a complete map of another area. This would be helpful for comparing San Francisco to the entire NYC area, for example.</p>
<p>But for now, I&#8217;m happy to finally get this project launched. <a href="http://www.comparea.org/">Enjoy!</a></p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-08-13/introducing-comparea/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Introducing git webdiff</title>
		<link>http://www.danvk.org/wp/2014-07-03/introducing-git-webdiff/</link>
		<comments>http://www.danvk.org/wp/2014-07-03/introducing-git-webdiff/#comments</comments>
		<pubDate>Thu, 03 Jul 2014 17:01:23 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[git]]></category>
		<category><![CDATA[programming]]></category>
		<category><![CDATA[webdiff]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1197</guid>
		<description><![CDATA[After leaving Google and working in the open source ecosystem for the past few months, it&#8217;s become increasingly clear to me which pieces of Google&#8217;s infrastructure are ahead of the curve and which are not. One piece that&#8217;s clearly ahead is Google&#8217;s code review tool. Google&#8217;s original code review tool was Guido van Rossum&#8217;s Mondrian, [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>After leaving Google and working in the open source ecosystem for the past few months, it&#8217;s become increasingly clear to me which pieces of Google&#8217;s infrastructure are ahead of the curve and which are not. One piece that&#8217;s clearly ahead is Google&#8217;s code review tool.</p>
<p>Google&#8217;s original code review tool was <a href="http://en.wikipedia.org/wiki/Guido_van_Rossum">Guido van Rossum</a>&#8217;s <a href="https://www.youtube.com/watch?v=sMql3Di4Kgc">Mondrian</a>, which he eventually open sourced as <a href="https://code.google.com/p/rietveld/">Rietveld</a>, a project which was in turn forked into <a href="https://code.google.com/p/gerrit/">Gerrit</a>. Mondrian has since been replaced by a newer system at Google but, to my knowledge, this new system has never been publicly discussed.</p>
<p>These code review tools all excel at showing side-by-side diffs. The difference between inline and side-by-side (two column) diffs is so dramatic that I refuse to waste mental energy trying to grok the <a href="https://github.com/danvk/dygraphs/pull/296/files#diff-29d4cec18c17cc1681fff88bec8fcc2cL173">inline diffs</a> that github insists on showing.</p>
<p>There are a few ways to get two column diffs out of git (&#8220;git difftool&#8221;), but they all have their problems:</p>
<ul>
<li>Many diff tools (e.g. <a href="http://en.wikipedia.org/wiki/Tkdiff">tkdiff</a>) are XWindows programs are clearly out of place in Mac OS X. They often don&#8217;t work well with the app switcher and or show high resolution (&#8220;retina&#8221;) type.</li>
<li>Most diff tools want to operate on pairs of files. tkdiff and p4merge show you one file at a time in isolation. Once you advance past a file, you can&#8217;t go back. I like to flip back and forth through files when viewing diffs.</li>
<li>They typically do not support syntax highlighting.</li>
</ul>
<p>There are certainly diff tools for Mac OS X that do all these things well, but they tend to be commercial.</p>
<p>Enter &#8220;<a href="https://github.com/danvk/webdiff">git webdiff</a>&#8220;, my newly-released side project which aims to improve this situation.</p>
<p>Any time you&#8217;d run &#8220;git diff&#8221;, you can run &#8220;git webdiff&#8221; instead to get a nice, two-column diff in your browser, complete with syntax highlighting. Here&#8217;s what it looks like:</p>
<p><a href="https://github.com/danvk/webdiff"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/07/webdiff-0.4.png" alt="webdiff 0.4" width="602" height="428" class="aligncenter size-full wp-image-1198" /></a></p>
<p>When you run &#8220;git webdiff&#8221;, your browser will pop open a tab with this UI. When you&#8217;re done, you close the tab and the diff command will terminate. It works quite well any time you have an even remotely complex diff or merge to work through.</p>
<p>You can install it with:</p>
<p><code>pip install webdiff</code></p>
<p>Please give it a try and let me know what you think!</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-07-03/introducing-git-webdiff/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Google&#8217;s New Finance Onebox</title>
		<link>http://www.danvk.org/wp/2014-06-14/googles-new-finance-onebox/</link>
		<comments>http://www.danvk.org/wp/2014-06-14/googles-new-finance-onebox/#comments</comments>
		<pubDate>Sat, 14 Jun 2014 21:59:24 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1161</guid>
		<description><![CDATA[The last project I worked on at Google recently launched: a new and improved Finance Onebox. You trigger the feature by searching for a stock ticker, e.g. AAPL, GOOG or .INX: For comparison, here&#8217;s what it used to look like: The main new features are: A larger chart A cleaner, more modern design More relevant [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>The last project I worked on at Google recently launched: a new and improved Finance Onebox.</p>
<p>You trigger the feature by searching for a stock ticker, e.g. <a href="http://www.google.com/search?q=AAPL">AAPL</a>, <a href="http://www.google.com/search?q=GOOG">GOOG</a> or <a href="http://www.google.com/search?q=.INX">.INX</a>:</p>
<p><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/new-finance.png" alt="New finance onebox" width="574" height="486" class="size-full wp-image-1163" /></p>
<p>For comparison, here&#8217;s what it used to look like:</p>
<p><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/old-finance.png" alt="old-finance" width="573" height="333" class="aligncenter size-full wp-image-1164" /></p>
<p>The main new features are:</p>
<ol>
<li>A larger chart
<li>A cleaner, more modern design
<li>More relevant attributes (P/E ratio, Dividend Yield)
<li>After-hours trading on the stock chart
<li>Interactivity
</ol>
<p>The interactivity comes in a few forms. First, you can click the tabs on the top to zoom out to 5 day, 1 month, 3 month, 1 year, 5 year or Max views.</p>
<p>Next, you can mouse over the chart to see the price at any point. On touch devices, tap/swipe with one finger:</p>
<p><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/new-finance-hover.png" alt="Hovering over a point on the new finance onebox" width="571" height="486" class="aligncenter size-full wp-image-1162" /></p>
<p>But wait, there&#8217;s more! What if you see a change on the chart and want to know how large it was? You can click and drag across that time range to see a delta. On touch devices, you trigger this by putting two fingers on the chart:</p>
<p><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/new-finance-range.png" alt="Range selection" width="576" height="494" class="aligncenter size-full wp-image-1165" /></p>
<p>This is particularly useful for longer-range charts, where it lets you easily answer questions like &#8220;how much did the S&amp;P 500 drop from 2008&ndash;2009?&#8221;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-06-14/googles-new-finance-onebox/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>A deep dive into the Krubera Cave</title>
		<link>http://www.danvk.org/wp/2014-03-29/a-deep-dive-into-the-krubera-cave/</link>
		<comments>http://www.danvk.org/wp/2014-03-29/a-deep-dive-into-the-krubera-cave/#comments</comments>
		<pubDate>Sat, 29 Mar 2014 21:40:41 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1171</guid>
		<description><![CDATA[After seeing this image posted on reddit last week, I took a deep dive into the strange world of extreme caving. This image is big! Click through to see the whole thing. The Krubera Cave is the deepest in the world, descending 2,197 meters from its inconspicuous entrance to its deepest explored areas. It&#8217;s located [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>After seeing <a href="http://gilyn.lt/uploads/images/voronya.png">this image</a> posted <a href="http://www.reddit.com/r/MapPorn/comments/217lbv/a_map_of_krubera_cave_the_deepest_cave_on_earth/">on reddit</a> last week, I took a <i>deep dive</i> into the strange world of extreme caving.</p>
<p><a href="http://gilyn.lt/uploads/images/voronya.png"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/voronya.png" alt="Voronya Visualization" width="420" height="284" class="size-full aligncenter wp-image-1184" /></a>
<p style="text-align:center;font-style:italic;padding-bottom:1em">This image is big! <a href="http://gilyn.lt/uploads/images/voronya.png">Click through</a> to see the whole thing.</p>
<p><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/UUTq78Fvui.png" alt="Location of Krubera Cave" width="263" height="215" class="aligncenter size-full wp-image-1172" style="float:right; padding-left: 5px" />The <a href="http://en.wikipedia.org/wiki/Krubera_Cave">Krubera Cave</a> is the deepest in the world, descending 2,197 meters from its <a href="http://www.natgeocreative.com/comp/MM7/267/961216.jpg">inconspicuous entrance</a> to its deepest explored areas. It&#8217;s located in <a href="http://en.wikipedia.org/wiki/Abkhazia">Abkhazia</a>, a breakaway territory in the Republic of Georgia. In some ways, caving is an even more extreme activity than high altitude climbing. Descending to the bottom of Krubera takes a team of dozens of people over a month, a month during which they&#8217;ll never see the sun.</p>
<p>One question I had was &#8220;why does an expedition end?&#8221; I got some answers from <a href="http://youtu.be/OIEbFlxEhk8">this amazing documentary</a> about a 2003 expedition. Their goal was to explore this <a href="http://en.wikipedia.org/wiki/Sump_(cave)">siphon</a> at 1440m below the surface:<br />
<span id="more-1171"></span><br />
<a href="http://www.speleologija.hr/voronya/slike/Voronja-topo.jpg"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/screenshot-by-nimbus-www-speleologija-hr-voronya-slike-Voronja-topo-jpg.png" alt="Siphon at 1440m" width="489" height="297" class="aligncenter size-full wp-image-1174" /></a></p>
<p>Previous expeditions had explored in other directions, because they didn&#8217;t have the necessary scuba equipment to explore past the siphon (carrying heavy equipment down 1400+ meters is challenging). The hope was that, if they dove through the water, there would be a dry &#8220;continuation&#8221; on the other side.</p>
<p>And was there ever! You can see the start of the continuation they discovered in green in the image. It continues all the way to 2,197m, the lowest known point in the cave:</p>
<p><a href="http://www.speleologija.hr/voronya/slike/Voronja-topo.jpg"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/Voronja-topo.jpg" alt="The continuation" width="522" height="694" class="aligncenter size-full wp-image-1176" /></a></p>
<p>A siphon is one thing that can stop an expedition. In the case of the 2003 expedition, they continued exploring until they literally ran out of ropes and carabiners. These seem to be the two limiting factors for exploratory spelunking: water and equipment. Why not just bring more equipment? Because rope is heavy, especially when it&#8217;s waterlogged (as it&#8217;s sure to be in the humid environment of caves).</p>
<p>Here are a few photos from the cave:</p>
<p><a href="http://i.imgur.com/W2JM9w8.jpg"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/W2JM9w8.jpg" alt="A shaft in the Krubera cave" width="457" height="290" class="aligncenter size-full wp-image-1179" /></a></p>
<p><a href="http://i.telegraph.co.uk/multimedia/archive/01929/PD44976504_035_Tab_1929047b.jpg"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/03/PD44976504_035_Tab_1929047b.jpg" alt="TIght squeeze" width="620" height="388" class="aligncenter size-full wp-image-1180" /></a></p>
<p>I&#8217;d highly, highly recommend watching the <a href="http://youtu.be/OIEbFlxEhk8">Russian documentary about the Krubera cave</a> if you&#8217;re at all interested in this sort of thing. I don&#8217;t think caving is a hobby for me, but I&#8217;ll read news about caves with much greater interest now that I&#8217;ve watched this docu.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-03-29/a-deep-dive-into-the-krubera-cave/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Fact Comparisons</title>
		<link>http://www.danvk.org/wp/2014-02-24/fact-comparisons/</link>
		<comments>http://www.danvk.org/wp/2014-02-24/fact-comparisons/#comments</comments>
		<pubDate>Mon, 24 Feb 2014 23:30:01 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1153</guid>
		<description><![CDATA[This past fall, my group launched a new feature on Google Search that we call &#8220;Fact Comparisons&#8221;. It triggers for many numeric fact queries, for example distance from the sun to mars: The idea is that, by showing you answers to related questions (&#8220;how far is jupiter from the sun?&#8221;), we can help you contextualize [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This past fall, my group <a href="https://plus.sandbox.google.com/+google/posts/FZp8MYZq74U">launched</a> a new feature on Google Search that we call &#8220;Fact Comparisons&#8221;. It triggers for many numeric fact queries, for example <a href="https://www.google.com/search?q=distance+from+the+sun+to+mars">distance from the sun to mars</a>:</p>
<p><a href="https://www.google.com/search?q=distance+from+the+sun+to+mars"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/02/Screen-Shot-2014-02-24-at-6.18.44-PM.png" alt="Distance from the sun to Mars" width="589" height="449" class="aligncenter size-full wp-image-1154" /></a></p>
<p>The idea is that, by showing you answers to related questions (&#8220;how far is jupiter from the sun?&#8221;), we can help you contextualize the answer to your original question. The number &#8220;141,600,000 miles&#8221; is hard to fathom, but it makes more sense when you see that it&#8217;s between Earth (92.96M mi) and Jupiter (483.8M mi).</p>
<p>If you click on one of the related images, you&#8217;ll launch into a Carousel filled with related facts:</p>
<p><a href="https://www.google.com/search?q=distance+to+mars&amp;oq=distance+to+&amp;aqs=chrome.1.69i57j0l5.2555j0j7&amp;sourceid=chrome&amp;espv=210&amp;es_sm=119&amp;ie=UTF-8#q=earth+planets+distance+from+sun&amp;stick=H4sIAAAAAAAAAGOovnz8BQMDQwQHsxCHfq6-gWVyebESmGWUZW6oJe6cmpNaXJKZmOOflJWaXBKcmZJanlhZvIhRLTvZSj-xuKQoPy8_t1K_ICcxL7XEKiWzuCQxLzlVIa0oP1ehuDRPZoZl2E7-etUo8WL2SfrmcbvZTq4CAA9y2Qt1AAAA"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/02/Screen-Shot-2014-02-24-at-6.23.23-PM.png" alt="Related facts" width="581" height="255" class="aligncenter size-full wp-image-1155" /></a></p>
<p>Most numeric facts will trigger this feature. The most popular numeric facts are people&#8217;s ages and heights. A strip of famous people&#8217;s ages is pretty interesting:</p>
<p><a href="https://www.google.com/search?q=distance+to+mars&amp;oq=distance+to+&amp;aqs=chrome.1.69i57j0l5.2555j0j7&amp;sourceid=chrome&amp;espv=210&amp;es_sm=119&amp;ie=UTF-8#q=selena+gomez+age&amp;stick=H4sIAAAAAAAAAGOovnz8BQMDgyMHsxCXfq6-gVm5UXGeqRIniJ1ebFZWpMUXkFpUnJ8XnJmSWp5YWbyIUTQ72Uq_IDW_ICcVSIHkrBLTU_fM0Hl-qa1P5-gvz68r1678ePQwx1EAKI87914AAAA"><img src="http://www.danvk.org/wp/wp-content/uploads/2014/02/Screen-Shot-2014-02-24-at-6.25.12-PM.png" alt="Justin Bieber&#039;s age" width="578" height="258" class="aligncenter size-full wp-image-1156" /></a></p>
<p>A few other fun ones:</p>
<ul>
<li><a href="https://www.google.com/search?q=Rice+Acceptance+Rate">Rice Acceptance Rate</a>
<li><a href="https://www.google.com/search?q=Pete+Sampras+Grand+Slams">Pete Sampras Grand Slams</a>
<li><a href="https://www.google.com/search?q=mars+gravity">mars gravity</a>
<li><a href="https://www.google.com/search?q=k2+height">k2 height</a>
</ul>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-02-24/fact-comparisons/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Vernor Vinge on Video Calls</title>
		<link>http://www.danvk.org/wp/2014-02-10/vernor-vinge-on-video-calls/</link>
		<comments>http://www.danvk.org/wp/2014-02-10/vernor-vinge-on-video-calls/#comments</comments>
		<pubDate>Mon, 10 Feb 2014 20:55:44 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1147</guid>
		<description><![CDATA[I&#8217;ve referenced an anecdote from Vernor Vinge&#8217;s A Fire upon the Deep several times during video calls in the last few weeks and thought I&#8217;d share it here. The novel is a classic space opera. Two ships with infinitely powerful computers are in communication over a very narrow channel. Rather than send pixelated images to [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>I&#8217;ve referenced an anecdote from <a href="http://en.wikipedia.org/wiki/Vernor_Vinge">Vernor Vinge</a>&#8217;s <i><a href="http://en.wikipedia.org/wiki/A_Fire_upon_the_Deep">A Fire upon the Deep</a></i> several times during video calls in the last few weeks and thought I&#8217;d share it here.</p>
<p>The novel is a classic space opera. Two ships with infinitely powerful computers are in communication over a very narrow channel. Rather than send pixelated images to one another, the computers go to extremes to make the best use of their limited bandwidth.</p>
<blockquote><p>Fleet Central refused the full video link coming from the <i>Out of Band</i> &hellip; Kjet had to settle for a combat link: The screen showed a color image with high resolution. Looking at it carefully, one realized the thing was a poor evocation&#8230;. Kjet recognized Owner Limmende and Jan Skrits, her chief of staff, but they looked several years out of style: old video matched with the transmitted animation cues. The actual communication channel was less than four thousand bits per second</p></blockquote>
<p>Precious bits aren&#8217;t wasted on low-level features like pixels. Rather, they&#8217;re used to transmit information about the participants and &#8220;animation cues&#8221;. The computer on the receiving ship creates the most realistic video it can using those cues and the imagery that it has on file.</p>
<blockquote><p>The picture was crisp and clear, but when the figures moved it was with cartoonlike awkwardness. And some of the faces belonged to people Kjet knew had been transferred before the fall of Sjandra Kei. The processors here on the <i>Ølvira</i> were taking the narrowband signal from Fleet Central, fleshing it out with detailed (and out of date) background and evoking the image shown. <i>No more evocations after this</i>, Svensndot promised himself, <i>at least while we&#8217;re down here</i>.</p></blockquote>
<p>Vernor Vinge calls it an <i>evocation</i> but we&#8217;d probably call it an <i>avatar</i>. Even with all its power, their computer has trouble reproducing motion and is constrained by its out-of-date database.</p>
<blockquote><p>&#8220;Strange,&#8221; interrupted Pham. &#8220;The pictures were strange.&#8221; His tone was drifty.</p>
<p>&#8220;You mean our relay from Fleet Central?&#8221; Svensndot explained about the narrow bandwidth and the crummy performance of his ship&#8217;s processors&hellip;</p>
<p>&#8220;And so their picture of us must have been equally bad&#8230; I wonder what they thought I was?&#8221;</p>
<p>&#8220;Unh&#8230;&#8221; Good question. &hellip; &#8220;&#8230; wait a minute. That&#8217;s not how evocations work. I&#8217;m sure they got a pretty clear view of you. See, a few high-resolution pics would get sent at the beginning of the session. Then those would be used as the base for the animation.&#8221;</p></blockquote>
<p>This is more or less how a digital video is encoded: there are a few high-resolution <a href="http://en.wikipedia.org/wiki/Key_frames">key frames</a> followed by information about how the pixels change in each successive animation frame. Vinge&#8217;s computers do something similar. But instead of encoding how the pixels change, they encode at a higher level of abstraction. Presumably they&#8217;re recording that a hand moved or that a particular word was said, and the computer at the other end will do its best to update the keyframe to reflect this.</p>
<p>In a world with limited bandwidth but infinite computing power, this is how things should work. Next time you&#8217;re in a video call and the image drops out or becomes grainy, think about how much better it would be if your counterpart turned into a cartoon instead!</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-02-10/vernor-vinge-on-video-calls/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>What up with Boggle?</title>
		<link>http://www.danvk.org/wp/2014-01-25/what-up-with-boggle/</link>
		<comments>http://www.danvk.org/wp/2014-01-25/what-up-with-boggle/#comments</comments>
		<pubDate>Sat, 25 Jan 2014 20:47:11 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[boggle]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1128</guid>
		<description><![CDATA[A Boggle-obsessed friend recently asked how he could read all the posts about that game on my blog. I used to include categories on every post, but removed them when I updated the design of danvk.org. The categories are still there, though! Here&#8217;s a link to the Boggle Category. It&#8217;s better to read the posts [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>A Boggle-obsessed <a href="https://twitter.com/kjleftin">friend</a> recently asked how he could read all the posts about that game on my blog. I used to include categories on every post, but removed them when I updated the design of danvk.org. The categories are still there, though! Here&#8217;s a link to the <a href="http://www.danvk.org/wp/category/boggle/">Boggle Category</a>. It&#8217;s better to read the posts in chronological order, starting from <a href="http://www.danvk.org/wp/2007-01-28/boggle/">the first</a>.</p>
<p>Here they are for easy clicking:</p>
<style>.date { color: gray; font-size: small; }</style>
<div style="line-height: 1.9em">
<span class="date">Jan 2007</span> <a href="http://www.danvk.org/wp/2007-01-28/boggle/">Boggle!</a><br />
<span class="date">Jan 2007</span> <a href="http://www.danvk.org/wp/2007-01-30/boggle-2-the-shortest-solver/">Boggle #2: The Shortest Solver</a><br />
<span class="date">Jan 2007</span> <a href="http://www.danvk.org/wp/2007-01-30/boggle-3-succeed-by-not-being-stupid/">Boggle #3: Succeed by not Being Stupid</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-01/tries-the-perfect-data-structure/">Tries, the Perfect Data Structure</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-04/moving-boggle-to-c/">Moving Boggle to C++</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-06/in-which-we-discover-that-tries-are-awesome/">In which we discover that Tries are awesome</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-10/one-last-boggle-boost/">One Last Boggle Boost</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-11/some-boggle-statistics/">Some Boggle Statistics</a><br />
<span class="date">Feb 2007</span> <a href="http://www.danvk.org/wp/2007-02-16/initial-impressions-of-d/">Initial Impressions of D</a><br />
<span class="date">May 2007</span> <a href="http://www.danvk.org/wp/2007-05-02/jruby-performance-yowch/">JRuby Performance, Yowch!</a><br />
<span class="date">Aug 2007</span> <a href="http://www.danvk.org/wp/2007-08-02/how-many-boggle-boards-are-there/">How many Boggle boards are there?</a><br />
<span class="date">Sep 2007</span> <a href="http://www.danvk.org/wp/2007-10-09/a-java-surprise/">A Java Surprise</a><br />
<span class="date">Feb 2009</span> <a href="http://www.danvk.org/wp/2009-02-19/sky-high-boggle-scores-with-simulated-annealing/">Sky-High Boggle Scores with Simulated Annealing</a><br />
<span class="date">Aug 2009</span> <a href="http://www.danvk.org/wp/2009-08-04/solving-boggle-by-taking-option-three/">Solving Boggle by Taking Option Three</a><br />
<span class="date">Aug 2009</span> <a href="http://www.danvk.org/wp/2009-08-08/breaking-3x3-boggle/">Breaking 3×3 Boggle</a><br />
<span class="date">Aug 2009</span> <a href="http://www.danvk.org/wp/2009-08-11/some-maxno-mark-examples/">Some max/no mark examples</a><br />
<span class="date">Aug 2009</span> <a href="http://www.danvk.org/wp/2009-08-11/a-few-more-boggle-examples/">A Few More Boggle Examples</a>
</div>
<p>Stepping back a little bit, what&#8217;s the status of my Boggle efforts?</p>
<p>The overall goal is to find the highest-scoring Boggle board and prove that there are no better boards out there.</p>
<p>I&#8217;ve <a href="http://www.danvk.org/wp/2009-08-04/solving-boggle-by-taking-option-three/">solved this problem</a> for 3&#215;3 Boggle boards. Here&#8217;s the best board:</p>
<pre>P E R
L A T
D E S</pre>
<p>Its longest words include REPLATED and REPASTED. You can see all the words <a href="http://www.danvk.org/boggle3.php?quick=perlatdes">here</a>. This board has more points on it than any other board (using the <a href="http://everything2.com/title/ENABLE+word+list">Enable2K word list</a>) and I&#8217;ve proved it.</p>
<p>The 4&#215;4 problem is much harder, though, because there are eight billion times more boards to consider! I <a href="http://www.danvk.org/wp/2009-02-19/sky-high-boggle-scores-with-simulated-annealing/">believe</a> that this board is the best one:</p>
<pre>P E R S
L A T G
S I N E
T E R S</pre>
<p>You can see a list of all the words on it <a href="http://www.danvk.org/boggle.php?quick=perslatgsineters">here</a>. The longest word is REPLASTERING. I haven&#8217;t been able to prove it, though, and I haven&#8217;t put any serious time into the problem since 2009.</p>
<p>You can find all the Boggle-related code I&#8217;ve written <a href="http://github.com/danvk/performance-boggle">on github</a> and learn all about the algorithms and techniques by browsing posts in the <a href="http://www.danvk.org/wp/category/boggle/">Boggle Category</a> on this blog.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2014-01-25/what-up-with-boggle/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Statistics Knowledge Panel</title>
		<link>http://www.danvk.org/wp/2013-08-18/statistics-knowledge-panel/</link>
		<comments>http://www.danvk.org/wp/2013-08-18/statistics-knowledge-panel/#comments</comments>
		<pubDate>Sun, 18 Aug 2013 15:57:29 +0000</pubDate>
		<dc:creator><![CDATA[danvk]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://www.danvk.org/wp/?p=1116</guid>
		<description><![CDATA[A few months ago my group at work launched the Statistics Knowledge Panel, which shows you an interactive chart when you search for a public data statistic on Google: The feature uses query refinements to anticipate other statistics you might be interested in (e.g. &#8220;population india&#8221; &#8594; &#8220;population china&#8221;). These put the original statistic into [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>A few months ago my group at work launched the Statistics Knowledge Panel, which shows you an interactive chart when you search for a <a href="https://www.google.com/search?q=gdp+per+capita+china">public data statistic on Google</a>:</p>
<p><a href="https://www.google.com/search?q=gdp+per+capita+china"><img src="http://www.danvk.org/wp/wp-content/uploads/2013/08/gdp-per-capita-china.png" alt="gdp per capita china" width="568" height="416" class="aligncenter size-full wp-image-1117" /></a></p>
<p>The feature uses query refinements to anticipate other statistics you might be interested in (e.g. &#8220;population india&#8221; &rarr; &#8220;population china&#8221;). These put the original statistic into context. We got a shout out from <a href="http://en.wikipedia.org/wiki/Amit_Singhal">Amit Singhal</a> at Google I/O when we launched!</p>
<p><a href="http://www.youtube.com/watch?v=9pmPa_KxsAM#at=6853"><img src="http://www.danvk.org/wp/wp-content/uploads/2013/08/amit-google-io1.png" alt="amit-google io" width="559" height="247" class="aligncenter size-full wp-image-1119" /></a></p>
<p>Here are a few fun queries you can try:</p>
<ul>
<li><a href="http://google.com/search?q=life expectancy south africa">life expectancy south africa</a>
<li><a href="http://google.com/search?q=co2 emissions sweden">co2 emissions sweden</a>
<li><a href="http://google.com/search?q=internet users canada">internet users canada</a>
<li><a href="http://google.com/search?q=greece debt">greece debt</a>
<li><a href="http://google.com/search?q=fertility rate china">fertility rate china</a>
</ul>
<p>The charts work great on mobile and tablet, too!</p>
]]></content:encoded>
			<wfw:commentRss>http://www.danvk.org/wp/2013-08-18/statistics-knowledge-panel/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
