<html>
<head>
  <script type=text/javascript src="/dragtable/sorttable.js"></script>
  <script type=text/javascript src="/dragtable/dragtable.js"></script>
  <style type=text/css>
    /* Sortable tables */
    table.sortable thead {
      background-color:#eee;
      color:#666666;
      font-weight: bold;
      cursor: default;
    }
    table.thin, table.thin td, table.thin tr, table.thin th {
      border: thin solid black;
      border-collapse: collapse;
    }
  </style>
</head>
<body>
  <table width=800><tr><td>
  <h2>dragtable: Visually reorder your table columns</h2>
<p>Over the past several years, Stuart Langridge's <a href="http://www.kryogenix.org/code/browser/sorttable/">sorttable</a> Javascript library has found widespread use. It's easy to see why. Just add <code>class=sortable</code> to a <code>table</code> tag and its column headers automatically support click to sort. Pretty slick.</p>

<p>But sometimes sorting just isn't enough. What if you want to focus on just one or two of the columns in a table? In a client-side application you could drag the columns you care about next to each other. Why not in a web application?</p>

<p>Enter dragtable. Like sorttable, it teaches HTML tables a new trick through a simple <code>class</code> attribute. Here's a sample:</p>

<table id=table class="draggable" cellpadding=2 border="1">
  <tr><th id=x>Name</th><th>Date</th><th>Favorite Color</th></tr>
  <tr><td>Dan</td><td>1984-07-12</td><td>Blue</td></tr>
  <tr><td>Alice</td><td>1980-07-22</td><td>Green</td></tr>
  <tr><td>Ryan</td><td>1990-09-23</td><td>Orange</td></tr>
  <tr><td>Bob</td><td>1966-04-21</td><td>Red</td></tr>
</table>

<p>Drag the column headings to rearrange the data in this table. This is a plain old HTML table with <code>class=draggable</code> set.</p>

<p>To achieve <code>kMaxDHTMLGoodness</code>, use sorttable and dragtable on the same table! Just set <code>class="draggable sortable"</code>:</p>

<table class="thin sortable draggable">
  <tr>
    <th>Name</th><th>Salary</th><th>Extension</th><th>Start date</th>
  </tr>
  <tr><td>Bloggs, Fred</td><td>$12000.00</td>
      <td>1353</td><td>18/08/2003</td></tr>
  <tr><td>Turvey, Kevin</td><td>$191200.00</td>
      <td>2342</td><td>02/05/1979</td></tr>
  <tr><td>Mbogo, Arnold</td><td>$32010.12</td>
      <td>2755</td><td>09/08/1998</td></tr>
  <tr><td>Shakespeare, Bill</td><td>$122000.00</td>
      <td>3211</td><td>12/11/1961</td></tr>
  <tr><td>Shakespeare, Hamnet</td><td>$9000</td>
      <td>9005</td><td>01/01/2002</td></tr>
  <tr><td>Fitz, Marvin</td><td>$3300</td>
      <td>5554</td><td>22/05/1995</td></tr>
</table>

<p>To make the columns of a table reorderable, just follow these three easy steps:</p>
<ol>
  <li>Download the <a href="dragtable.js">dragtable Javascript library</a>.</li>
  <li>Include the library by putting this in your document's HEAD:
    <pre><code>&lt;script src="<a
    href="dragtable.js">dragtable.js</a>"&gt;&lt;/script&gt;</code></pre>
  </li>
  <li>Mark the table whose column headers you want to be draggable by
  giving it a class of "draggable":
    <pre><code>&lt;table class="draggable"&gt;</code></pre>
  </li>
</ol>

<p>That's it! Your table will instantly become interactive.</p>

<h2>Q&A</h2>

<h3>Which browsers does dragtable work with?</h3>
<p>These are just the browsers I've checked. If you try dragtable on
a browser not listed here, please let me know whether it works. dragtable
should work for at least 99% of all web surfers.</p>
<table class=thin cellpadding=2>
  <tr><th>Browser</th><th>Works?</th></tr>
  <tr><td>IE 7.0.5730.13</td><td>Yes</td></tr>
  <tr><td>IE 6.0</td><td>Yes</td></tr>

  <tr><td>Firefox 3 RC2</td><td>Yes</td></tr>
  <tr><td>Firefox 2.0.0.14</td><td>Yes</td></tr>
  <tr><td>Firefox 1.5</td><td>Yes</td></tr>
  <tr><td>Safari 3.1.1</td><td>Yes</td></tr>
  <tr><td>Safari 2.0</td><td>Yes</td></tr>

  <tr><td>Camino 1.6.1</td><td>Yes</td></tr>
  <tr><td>Opera 9.2.7</td><td>No</td></tr>
</table>

<h3>How does dragtable distinguish a click from a drag?</h3>
<p>This should only be relevant if you're using dragtable together with sorttable. If a user clicks a column header and then moves the mouse some amount, dragtable assumes they want to rearrange the columns. If they don't move the mouse very much, dragtable considers it a click and sorttable will take it as a cue to sort on that column. The exact cutoff is a 10 pixel radius, but you can customize this by calling:
<pre><code>dragtable.setMinDragDistance(5);</code></pre>
somewhere on your page.</p>

<h3>I found a bug/have a feature request</h3>
<p>A bug? The horrors! Feel free to contact me at <a href="mailto:danvdk@gmail.com">danvdk@gmail.com</a>. Or, even better, head over to the <a href="http://code.google.com/p/dragtable/">dragtable</a> project on Google Code and start hacking around!</p>
</td></tr></table>
</body>
</html>
